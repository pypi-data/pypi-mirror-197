import{b as k,e as V,r as y,ab as w,x as C,q as c,E as x,o as s,l as f,a as l,w as r,i as d,v as i,h as v,p as n,k as u}from"./index.2367b5b2.js";import{_ as D}from"./EditConfig.vue_vue_type_style_index_0_lang.2be2ea45.js";import{a as $,V as p}from"./VCardTitle.391f165c.js";import{V as B}from"./VDivider.58333c98.js";import{i as N}from"./VCardText.468b25d6.js";/* empty css                             */import"./VSelect.a4f63aac.js";import"./VLabel.4a02961f.js";import"./VBtn.24e07398.js";import"./VTooltip.b2fc6bf2.js";import"./VCheckboxBtn.66046ca0.js";import"./VExpansionPanel.160f1d84.js";const S={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},T=n("br",null,null,-1),A=["href"],E=n("br",null,null,-1),M=n("br",null,null,-1),P=n("br",null,null,-1),O=k({__name:"AddProvider",props:{domain:null},setup(_){const m=_,g=V(),e=y(),t=w({});C(async()=>{const a=await c.getData("providers/available");for(const o of a)t[o.domain]=o}),x(()=>m.domain,async a=>{a&&(e.value=await c.getData("config/providers/add",{provider_domain:m.domain}))},{immediate:!0});const h=async function(a){e.value.enabled=a.enabled,e.value.name=a.name;for(const o in a.values)e.value.values[o].value=a.values[o];c.getData("config/providers/add",{provider_domain:m.domain,config:e.value}).then(()=>{g.push({name:"musicprovidersettings"})}).catch(o=>{alert(o)})};return(a,o)=>(s(),f("section",null,[l(N,null,{default:r(()=>[e.value&&t[e.value.domain]?(s(),f("div",S,[l($,null,{default:r(()=>[d(i(a.$t("settings.setup_music_provider",[t[e.value.domain].name])),1)]),_:1}),l(p,null,{default:r(()=>[d(i(t[e.value.domain].description),1)]),_:1}),T,t[e.value.domain].codeowners.length?(s(),v(p,{key:0},{default:r(()=>[n("b",null,i(a.$t("settings.codeowners"))+": ",1),d(i(t[e.value.domain].codeowners.join(" / ")),1)]),_:1})):u("",!0),t[e.value.domain].documentation?(s(),v(p,{key:1},{default:r(()=>[n("b",null,i(a.$t("settings.need_help_setup_provider")),1),d("\xA0 "),n("a",{href:t[e.value.domain].documentation,target:"_blank"},i(a.$t("settings.check_docs")),9,A)]),_:1})):u("",!0)])):u("",!0),E,l(B),M,P,e.value?(s(),v(D,{key:1,"model-value":e.value,"onUpdate:modelValue":o[0]||(o[0]=b=>h(b))},null,8,["model-value"])):u("",!0)]),_:1})]))}});export{O as default};
