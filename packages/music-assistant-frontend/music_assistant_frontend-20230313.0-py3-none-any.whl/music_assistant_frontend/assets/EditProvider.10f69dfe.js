import{b as k,e as y,r as w,ab as C,x,q as d,E as _,o as s,l as f,a as u,w as r,i as m,v as i,h as p,p as o,k as c}from"./index.a30f9374.js";import{_ as D}from"./EditConfig.vue_vue_type_style_index_0_lang.3771a2af.js";import{a as $,V as v}from"./VCardTitle.a21137d9.js";import{V as B}from"./VDivider.9475c70a.js";import{i as N}from"./VCardText.8356876e.js";/* empty css                             */import"./VSelect.c2525d1b.js";import"./VLabel.f08a1283.js";import"./VBtn.ef3d72f5.js";import"./VTooltip.96c48329.js";import"./VCheckboxBtn.9d9d5f9f.js";import"./VExpansionPanel.f3e4274e.js";const E={key:0,style:{"margin-left":"-5px","margin-right":"-5px"}},I=o("br",null,null,-1),S=["href"],T=o("br",null,null,-1),M=o("br",null,null,-1),P=o("br",null,null,-1),O=k({__name:"EditProvider",props:{domain:null,instanceId:null},setup(g){const l=g,h=y(),e=w(),a=C({});x(async()=>{const t=await d.getData("providers/available");for(const n of t)a[n.domain]=n}),_(()=>l.domain,async t=>{t&&(e.value=await d.getData("config/providers/create",{provider_domain:l.domain}))},{immediate:!0}),_(()=>l.instanceId,async t=>{t&&(e.value=await d.getData("config/providers/get",{instance_id:l.instanceId}))},{immediate:!0});const b=async function(t){var n;d.sendCommand("config/providers/update",{instance_id:(n=e.value)==null?void 0:n.instance_id,update:t}),h.push({name:"musicprovidersettings"})};return(t,n)=>(s(),f("section",null,[u(N,null,{default:r(()=>[e.value&&a[e.value.domain]?(s(),f("div",E,[u($,null,{default:r(()=>[m(i(t.$t("settings.setup_music_provider",[a[e.value.domain].name])),1)]),_:1}),u(v,null,{default:r(()=>[m(i(a[e.value.domain].description),1)]),_:1}),I,a[e.value.domain].codeowners.length?(s(),p(v,{key:0},{default:r(()=>[o("b",null,i(t.$t("settings.codeowners"))+": ",1),m(i(a[e.value.domain].codeowners.join(" / ")),1)]),_:1})):c("",!0),a[e.value.domain].documentation?(s(),p(v,{key:1},{default:r(()=>[o("b",null,i(t.$t("settings.need_help_setup_provider")),1),m("\xA0 "),o("a",{href:a[e.value.domain].documentation,target:"_blank"},i(t.$t("settings.check_docs")),9,S)]),_:1})):c("",!0)])):c("",!0),T,u(B),M,P,e.value?(s(),p(D,{key:1,"model-value":e.value,"onUpdate:modelValue":n[0]||(n[0]=V=>b(V))},null,8,["model-value"])):c("",!0)]),_:1})]))}});export{O as default};
