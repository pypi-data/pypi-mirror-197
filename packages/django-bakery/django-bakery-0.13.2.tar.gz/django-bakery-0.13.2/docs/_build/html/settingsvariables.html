
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Settings variables &#8212; django-bakery  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Management commands" href="managementcommands.html" />
    <link rel="prev" title="Buildable feeds" href="buildablefeeds.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://palewi.re/docs/django-bakery/settingsvariables.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <nav>
    <div class="row">
        <div class="sevencol">
            <div class="shingle">
                <a href="https://palewi.re/">
                    <div rel="rnews:copyrightedBy rnews:hasSource rnews:providedBy">
                        <div about="http://palewi.re/" typeof="rnews:Organization">
                            <div property="rnews:name">palewire</div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div class="fivecol last links">
            <ul>
                <li>
                    <a href="http://palewi.re/posts/" title="Posts">
                        Posts
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/work/" title="Work">
                        Work
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/talks/" title="Talks">
                        Talks
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/docs/" title="Docs">
                        Docs
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/who-is-ben-welsh/" title="Who is Ben Welsh?">
                        About
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="row topbar">
    <div class="twelvecol last"></div>
</div>
<section id="settings-variables">
<h1>Settings variables<a class="headerlink" href="#settings-variables" title="Permalink to this heading">¶</a></h1>
<p>Configuration options for your <code class="docutils literal notranslate"><span class="pre">settings.py</span></code>.</p>
<section id="allow-bakery-auto-publishing">
<h2>ALLOW_BAKERY_AUTO_PUBLISHING<a class="headerlink" href="#allow-bakery-auto-publishing" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-ALLOW_BAKERY_AUTO_PUBLISHING">
<span class="sig-name descname"><span class="pre">ALLOW_BAKERY_AUTO_PUBLISHING</span></span><a class="headerlink" href="#envvar-ALLOW_BAKERY_AUTO_PUBLISHING" title="Permalink to this definition">¶</a></dt>
<dd><p>Decides whether the <cite>AutoPublishingBuildableModel</cite> is allowed to run the
<cite>publish</cite> management command as part of its background task. True by default.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># So if you are in your dev environment and want to prevent</span>
<span class="c1"># the task from publishing to s3, do this.</span>
<span class="n">ALLOW_BAKERY_AUTO_PUBLISHING</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
</section>
<section id="build-dir">
<h2>BUILD_DIR<a class="headerlink" href="#build-dir" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-BUILD_DIR">
<span class="sig-name descname"><span class="pre">BUILD_DIR</span></span><a class="headerlink" href="#envvar-BUILD_DIR" title="Permalink to this definition">¶</a></dt>
<dd><p>The location on the filesystem where you want the flat files to be built.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BUILD_DIR</span> <span class="o">=</span> <span class="s1">&#39;/home/you/code/your-site/build/&#39;</span>

<span class="c1"># I like something a little snappier like...</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="n">BUILD_DIR</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="vm">__file__</span><span class="p">,</span> <span class="s1">&#39;build&#39;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="bakery-filesystem">
<h2>BAKERY_FILESYSTEM<a class="headerlink" href="#bakery-filesystem" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-BAKERY_FILESYSTEM">
<span class="sig-name descname"><span class="pre">BAKERY_FILESYSTEM</span></span><a class="headerlink" href="#envvar-BAKERY_FILESYSTEM" title="Permalink to this definition">¶</a></dt>
<dd><p>Files are built using <a class="reference external" href="https://docs.pyfilesystem.org/en/latest/index.html">PyFilesystem</a>, a module that provides a common interface to a variety of filesystem backends. The default setting is the <a class="reference external" href="https://docs.pyfilesystem.org/en/latest/reference/osfs.html">OS filesystem</a> backend that saves files to the local directory structure. If you don’t set the variable, it will operates as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BAKERY_FILESYSTEM</span> <span class="o">=</span> <span class="s1">&#39;osfs:///&#39;</span>
</pre></div>
</div>
<p>Here’s how you could change to an <a class="reference external" href="https://docs.pyfilesystem.org/en/latest/reference/memoryfs.html">in-memory backend</a> instead. The complete list of alternatives are documented <a class="reference external" href="https://docs.pyfilesystem.org/en/latest/builtin.html">here</a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BAKERY_FILESYSTEM</span> <span class="o">=</span> <span class="s1">&#39;mem://&#39;</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="bakery-views">
<h2>BAKERY_VIEWS<a class="headerlink" href="#bakery-views" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-BAKERY_VIEWS">
<span class="sig-name descname"><span class="pre">BAKERY_VIEWS</span></span><a class="headerlink" href="#envvar-BAKERY_VIEWS" title="Permalink to this definition">¶</a></dt>
<dd><p>The list of views you want to be built out as flat files when the <code class="docutils literal notranslate"><span class="pre">build</span></code> <a class="reference internal" href="managementcommands.html"><span class="doc">management command</span></a> is executed.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BAKERY_VIEWS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s1">&#39;myapp.views.ExampleL­istView&#39;</span><span class="p">,</span>
    <span class="s1">&#39;myapp.views.ExampleDe­tailView&#39;</span><span class="p">,</span>
    <span class="s1">&#39;myapp.views.MyRSSView&#39;</span><span class="p">,</span>
    <span class="s1">&#39;myapp.views.MySitemapView&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="aws-bucket-name">
<h2>AWS_BUCKET_NAME<a class="headerlink" href="#aws-bucket-name" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-AWS_BUCKET_NAME">
<span class="sig-name descname"><span class="pre">AWS_BUCKET_NAME</span></span><a class="headerlink" href="#envvar-AWS_BUCKET_NAME" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the <a class="reference external" href="http://aws.amazon.com/s3/">Amazon S3 “bucket”</a> on the Internet were you want to publish the flat files in your local <code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code>.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>AWS_BUCK­ET_­NAME = &#39;your-buck­et&#39;
</pre></div>
</div>
</section>
<section id="aws-access-key-id">
<h2>AWS_ACCESS_KEY_ID<a class="headerlink" href="#aws-access-key-id" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-AWS_ACCESS_KEY_ID">
<span class="sig-name descname"><span class="pre">AWS_ACCESS_KEY_ID</span></span><a class="headerlink" href="#envvar-AWS_ACCESS_KEY_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>A part of your secret Amazon Web Services credentials. Necessary to upload files to S3.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AWS_ACCESS_KEY_ID</span> <span class="o">=</span> <span class="s1">&#39;your-key&#39;</span>
</pre></div>
</div>
</section>
<section id="aws-secret-access-key">
<h2>AWS_SECRET_ACCESS_KEY<a class="headerlink" href="#aws-secret-access-key" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-AWS_SECRET_ACCESS_KEY">
<span class="sig-name descname"><span class="pre">AWS_SECRET_ACCESS_KEY</span></span><a class="headerlink" href="#envvar-AWS_SECRET_ACCESS_KEY" title="Permalink to this definition">¶</a></dt>
<dd><p>A part of your secret Amazon Web Services credentials. Necessary to upload files to S3.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AWS_SECRET_ACCESS_KEY</span> <span class="o">=</span> <span class="s1">&#39;your-secret-key&#39;</span>
</pre></div>
</div>
</section>
<section id="aws-region">
<h2>AWS_REGION<a class="headerlink" href="#aws-region" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-AWS_REGION">
<span class="sig-name descname"><span class="pre">AWS_REGION</span></span><a class="headerlink" href="#envvar-AWS_REGION" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the Amazon Web Services’ region where the S3 bucket is stored. Results depend on the endpoint and region, but if you are not using the default <code class="docutils literal notranslate"><span class="pre">us-east-1</span></code> region you may need to set this variable.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">AWS_REGION</span> <span class="o">=</span> <span class="s1">&#39;us-west-2&#39;</span>
</pre></div>
</div>
</section>
<section id="aws-s3-endpoint">
<h2>AWS_S3_ENDPOINT<a class="headerlink" href="#aws-s3-endpoint" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-AWS_S3_ENDPOINT">
<span class="sig-name descname"><span class="pre">AWS_S3_ENDPOINT</span></span><a class="headerlink" href="#envvar-AWS_S3_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to use when connecting with Amazon Web Services’ S3 system. If the
setting is not provided the boto package’s default is used.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Substitute in Amazon&#39;s accelerated upload service</span>
<span class="n">AWS_S3_ENDPOINT</span> <span class="o">=</span> <span class="s1">&#39;https://s3-accelerate.amazonaws.com&#39;</span>
<span class="c1"># Specify the region of the bucket to work around bugs with S3 in certain version of boto</span>
<span class="n">AWS_S3_ENDPOINT</span> <span class="o">=</span> <span class="s1">&#39;https://s3-</span><span class="si">%s</span><span class="s1">.amazonaws.com&#39;</span> <span class="o">%</span> <span class="n">AWS_REGION</span>
</pre></div>
</div>
</section>
<section id="bakery-gzip">
<h2>BAKERY_GZIP<a class="headerlink" href="#bakery-gzip" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-BAKERY_GZIP">
<span class="sig-name descname"><span class="pre">BAKERY_GZIP</span></span><a class="headerlink" href="#envvar-BAKERY_GZIP" title="Permalink to this definition">¶</a></dt>
<dd><p>Opt in to automatic gzipping of your files in the build method and addition of
the required headers when deploying to Amazon S3. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BAKERY_GZIP</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="gzip-content-types">
<h2>GZIP_CONTENT_TYPES<a class="headerlink" href="#gzip-content-types" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-GZIP_CONTENT_TYPES">
<span class="sig-name descname"><span class="pre">GZIP_CONTENT_TYPES</span></span><a class="headerlink" href="#envvar-GZIP_CONTENT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of file mime types used to determine which files to add the
‘Content-Encoding: gzip’ metadata header when syncing to Amazon S3.</p>
<p>Defaults to include all ‘text/css’, ‘text/html’, ‘application/javascript’,
‘application/x-javascript’ and everything else recommended by the HTML5
<a class="reference external" href="https://github.com/h5bp/server-configs-apache">boilerplate guide</a>.</p>
<p>Only matters if you have set <code class="docutils literal notranslate"><span class="pre">BAKERY_GZIP</span></code> to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">GZIP_CONTENT_TYPES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;application/atom+xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/javascript&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/ld+json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/manifest+json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/rdf+xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/rss+xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/schema+json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/vnd.geo+json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/vnd.ms-fontobject&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/x-font-ttf&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/x-javascript&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/x-web-app-manifest+json&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/xhtml+xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;application/xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;font/eot&quot;</span><span class="p">,</span>
    <span class="s2">&quot;font/opentype&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image/bmp&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image/svg+xml&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image/vnd.microsoft.icon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;image/x-icon&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/cache-manifest&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/css&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/html&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/javascript&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/vcard&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/vnd.rim.location.xloc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/vtt&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/x-component&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/x-cross-domain-policy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;text/xml&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="default-acl">
<h2>DEFAULT_ACL<a class="headerlink" href="#default-acl" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-DEFAULT_ACL">
<span class="sig-name descname"><span class="pre">DEFAULT_ACL</span></span><a class="headerlink" href="#envvar-DEFAULT_ACL" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the access control level of the files uploaded. Defaults to ‘public-read’</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># defaults to &#39;public-read&#39;,</span>
<span class="n">DEFAULT_ACL</span> <span class="o">=</span> <span class="s1">&#39;public-read&#39;</span>
</pre></div>
</div>
</section>
<section id="bakery-cache-control">
<h2>BAKERY_CACHE_CONTROL<a class="headerlink" href="#bakery-cache-control" title="Permalink to this heading">¶</a></h2>
<dl class="std envvar">
<dt class="sig sig-object std" id="envvar-BAKERY_CACHE_CONTROL">
<span class="sig-name descname"><span class="pre">BAKERY_CACHE_CONTROL</span></span><a class="headerlink" href="#envvar-BAKERY_CACHE_CONTROL" title="Permalink to this definition">¶</a></dt>
<dd><p>Set cache-control headers based on content type. Headers are set using the <code class="docutils literal notranslate"><span class="pre">max-age=</span></code> format so the passed values should be in seconds (<code class="docutils literal notranslate"><span class="pre">'text/html':</span> <span class="pre">900</span></code> would result in a <code class="docutils literal notranslate"><span class="pre">Cache-Control:</span> <span class="pre">max-age=900</span></code> header for all <code class="docutils literal notranslate"><span class="pre">text/html</span></code> files). By default, none are set.</p>
</dd></dl>

<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">BAKERY_CACHE_CONTROL</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;text/html&#39;</span><span class="p">:</span> <span class="mi">900</span><span class="p">,</span>
    <span class="s1">&#39;application/javascript&#39;</span><span class="p">:</span> <span class="mi">86400</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="buildablefeeds.html" title="Previous document">Buildable feeds</a>
        </li>
        <li>
          <a href="managementcommands.html" title="Next document">Management commands</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">django-bakery</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="commonchallenges.html">Common challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildableviews.html">Buildable views</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildablemodels.html">Buildable models</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildablefeeds.html">Buildable feeds</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Settings variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="managementcommands.html">Management commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="buildablefeeds.html" title="previous chapter">Buildable feeds</a></li>
      <li>Next: <a href="managementcommands.html" title="next chapter">Management commands</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022 Ben Welsh.
      
      |
      <a href="_sources/settingsvariables.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>