
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Management commands &#8212; django-bakery  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/css/custom.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Changelog" href="changelog.html" />
    <link rel="prev" title="Settings variables" href="settingsvariables.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
    <link rel="canonical" href="https://palewi.re/docs/django-bakery/managementcommands.html"/>
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <nav>
    <div class="row">
        <div class="sevencol">
            <div class="shingle">
                <a href="https://palewi.re/">
                    <div rel="rnews:copyrightedBy rnews:hasSource rnews:providedBy">
                        <div about="http://palewi.re/" typeof="rnews:Organization">
                            <div property="rnews:name">palewire</div>
                        </div>
                    </div>
                </a>
            </div>
        </div>
        <div class="fivecol last links">
            <ul>
                <li>
                    <a href="http://palewi.re/posts/" title="Posts">
                        Posts
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/work/" title="Work">
                        Work
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/talks/" title="Talks">
                        Talks
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/docs/" title="Docs">
                        Docs
                    </a>
                </li>
                <li>
                    <a href="http://palewi.re/who-is-ben-welsh/" title="Who is Ben Welsh?">
                        About
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<div class="row topbar">
    <div class="twelvecol last"></div>
</div>
<section id="management-commands">
<h1>Management commands<a class="headerlink" href="#management-commands" title="Permalink to this heading">¶</a></h1>
<p>Custom <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/django-admin/">Django management commands</a> for
this library that help make things happen.</p>
<section id="build">
<span id="id1"></span><h2>build<a class="headerlink" href="#build" title="Permalink to this heading">¶</a></h2>
<p>Bake out a site as flat files in the build directory, defined in settings.py by <code class="docutils literal notranslate"><span class="pre">BUILD_DIR</span></code>.</p>
<p>By default, this wipes the build directory if it exists, then builds
any static files in the <code class="docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code> to the <code class="docutils literal notranslate"><span class="pre">STATIC_URL</span></code>,
any media files in the <code class="docutils literal notranslate"><span class="pre">MEDIA_ROOT</span></code> to the <code class="docutils literal notranslate"><span class="pre">MEDIA_URL</span></code> and
all pages generated by the buildable views listed in <code class="docutils literal notranslate"><span class="pre">BAKERY_VIEWS</span></code>.</p>
<p>As a small bonus, files named <code class="docutils literal notranslate"><span class="pre">robots.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">favicon.ico</span></code> will be placed
at the build directory’s root if discovered at the <code class="docutils literal notranslate"><span class="pre">STATIC_ROOT</span></code>.</p>
<p>Defaults can be modified with the following command options.</p>
<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-build-dir">
<span class="sig-name descname"><span class="pre">--build-dir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-build-dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the path of the build directory. Will use <code class="docutils literal notranslate"><span class="pre">settings.BUILD_DIR</span></code> by default.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-keep-build-dir">
<span class="sig-name descname"><span class="pre">--keep-build-dir</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-keep-build-dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip deleting and recreating the build directory before building files. By
default the entire directory is wiped out.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-skip-static">
<span class="sig-name descname"><span class="pre">--skip-static</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-skip-static" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip collecting the static files when building.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-skip-media">
<span class="sig-name descname"><span class="pre">--skip-media</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-skip-media" title="Permalink to this definition">¶</a></dt>
<dd><p>Skip collecting the media files when building.</p>
</dd></dl>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py build
</pre></div>
</div>
<p>View names passed as arguments will override the <code class="docutils literal notranslate"><span class="pre">BAKERY_VIEWS</span></code> list.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py build yourapp.views.DummyL­istView
</pre></div>
</div>
</section>
<section id="buildserver">
<h2>buildserver<a class="headerlink" href="#buildserver" title="Permalink to this heading">¶</a></h2>
<p>Starts a variation of Django’s <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/django-admin/#runserver-port-or-address-port">runserver</a> designed to serve the static files you’ve built
in the build directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py buildserver
</pre></div>
</div>
</section>
<section id="publish">
<h2>publish<a class="headerlink" href="#publish" title="Permalink to this heading">¶</a></h2>
<p>Syncs your Amazon S3 bucket to be identical to the local build directory. New files are uploaded,
changed files are updated and absent files are deleted.</p>
<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-aws-bucket-name">
<span class="sig-name descname"><span class="pre">--aws-bucket-name</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;name&gt;</span></span><a class="headerlink" href="#cmdoption-aws-bucket-name" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the AWS bucket to sync with. Will use settings.AWS_BUCKET_NAME by default.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-build-dir">
<span class="sig-name descname"><span class="pre">--build-dir</span></span><span class="sig-prename descclassname"> <span class="pre">&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-build-dir" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the path of the build directory. Will use settings.BUILD_DIR by default.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-force">
<span class="sig-name descname"><span class="pre">--force</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-force" title="Permalink to this definition">¶</a></dt>
<dd><p>Force a re-upload of all files in the build directory to the AWS bucket.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-dry-run">
<span class="sig-name descname"><span class="pre">--dry-run</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-dry-run" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide output of what the command would perform, but without changing anything.</p>
</dd></dl>

<dl class="std cmdoption">
<dt class="sig sig-object std" id="cmdoption-no-delete">
<span class="sig-name descname"><span class="pre">--no-delete</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-no-delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Keep files in S3, even if they do not exist in the build directory. The
default behavior is to delete files in the bucket that are not in the
build directory.</p>
</dd></dl>

<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py publish
</pre></div>
</div>
</section>
<section id="unbuild">
<h2>unbuild<a class="headerlink" href="#unbuild" title="Permalink to this heading">¶</a></h2>
<p>Empties the build directory.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py unbuild
</pre></div>
</div>
</section>
<section id="unpublish">
<h2>unpublish<a class="headerlink" href="#unpublish" title="Permalink to this heading">¶</a></h2>
<p>Empties the Amazon S3 bucket defined in <code class="docutils literal notranslate"><span class="pre">settings.py</span></code>.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ python manage.py unpublish
</pre></div>
</div>
</section>
</section>


          </div>
              <div class="related bottom">
                &nbsp;
  <nav id="rellinks">
    <ul>
        <li>
          &larr;
          <a href="settingsvariables.html" title="Previous document">Settings variables</a>
        </li>
        <li>
          <a href="changelog.html" title="Next document">Changelog</a>
          &rarr;
        </li>
    </ul>
  </nav>
              </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">django-bakery</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingstarted.html">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="commonchallenges.html">Common challenges</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildableviews.html">Buildable views</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildablemodels.html">Buildable models</a></li>
<li class="toctree-l1"><a class="reference internal" href="buildablefeeds.html">Buildable feeds</a></li>
<li class="toctree-l1"><a class="reference internal" href="settingsvariables.html">Settings variables</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Management commands</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
<li class="toctree-l1"><a class="reference internal" href="credits.html">Credits</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="settingsvariables.html" title="previous chapter">Settings variables</a></li>
      <li>Next: <a href="changelog.html" title="next chapter">Changelog</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022 Ben Welsh.
      
      |
      <a href="_sources/managementcommands.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>