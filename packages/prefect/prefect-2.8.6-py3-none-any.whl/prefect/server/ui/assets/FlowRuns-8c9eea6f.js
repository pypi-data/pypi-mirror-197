import{d as z,Z as E,F as d,c as r,r as v,a0 as I,a1 as J,a as o,w as i,a2 as h,a3 as K,o as s,b as a,u as e,a4 as O,l as F,a5 as P,a6 as b,a7 as Q,T as g,a8 as X,e as f,a9 as w,aa as Z,ab as j,ac as q,ad as G,ae as M,af as W,ag as Y,ah as $,ai as ee}from"./index-4d5db146-65db30f1.js";import{u as se}from"./usePageTitle-064626f5.js";import"./index-4882272f.js";import{r as te}from"./routes-6a4f68fa.js";const oe={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},le={class:"flow-runs__list-controls--right"},fe=z({__name:"FlowRuns",setup(ae){const C=K(),c=E(),_=d(c.flowRuns.getFlowRunsCount,[{}]),S=r(()=>_.executed),V=r(()=>_.response===0),m=v(),x=I(m,1200),{filter:t,isCustomFilter:N}=J({flowRuns:{nameLike:x}}),p={interval:3e4},R=d(c.flowRuns.getFlowRunsCount,[t],p),B=r(()=>R.response),T=d(c.ui.getFlowRunHistory,[t],p),A=r(()=>T.response??[]),y=d(c.flowRuns.getFlowRuns,[t],p),k=r(()=>y.response??[]),n=v([]);function L(){C.push(te.flowRuns())}const H=()=>{n.value=[],y.refresh(),R.refresh()};return se("Flow Runs"),(ue,l)=>{const U=h("p-button"),D=h("p-layout-default");return s(),o(D,{class:"flow-runs"},{header:i(()=>[a(e(O))]),default:i(()=>[e(S)?(s(),F(b,{key:0},[e(V)?(s(),o(e(P),{key:0})):(s(),F(b,{key:1},[a(e(Q)),e(g).md?(s(),o(e(X),{key:0,history:e(A),"start-date":e(t).flowRuns.expectedStartTimeAfter,"end-date":e(t).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),w("div",oe,[w("div",ne,[w("div",le,[n.value.length==0?(s(),o(e(Z),{key:0,count:e(B),label:"Flow run"},null,8,["count"])):(s(),o(e(j),{key:1,count:n.value.length},null,8,["count"])),a(e(q),{selected:n.value,onDelete:H},null,8,["selected"])]),e(g).md?(s(),o(e(G),{key:0,modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=u=>m.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),a(e(M),{modelValue:e(t).sort,"onUpdate:modelValue":l[1]||(l[1]=u=>e(t).sort=u)},null,8,["modelValue"])]),a(e(W),{selected:n.value,"onUpdate:selected":l[2]||(l[2]=u=>n.value=u),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?f("",!0):(s(),o(e(Y),{key:0},$({_:2},[e(N)?{name:"actions",fn:i(()=>[a(U,{size:"sm",secondary:"",onClick:L},{default:i(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{fe as default};
