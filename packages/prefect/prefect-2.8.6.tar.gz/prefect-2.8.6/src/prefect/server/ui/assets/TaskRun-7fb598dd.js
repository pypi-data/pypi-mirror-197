import{d as D,aj as j,Z as B,c as n,ax as p,am as N,u as t,a as k,w as e,e as _,a2 as l,a3 as V,T as A,o as d,b as u,ay as F,az as f,ah as L,ai as m,aA as P,aB as z,aC as J,aD as M,au as O}from"./index-4d5db146-65db30f1.js";import{u as U}from"./usePageTitle-064626f5.js";import"./index-4882272f.js";import{r as Z}from"./routes-6a4f68fa.js";const Q=D({__name:"TaskRun",setup($){const R=V(),r=j("taskRunId"),i=B(),v=n(()=>{const a=["Logs","Task Inputs"];return A.xl||a.push("Details"),a}),g=n(()=>r.value?[r.value]:null),T=p(i.taskRuns.getTaskRun,g,{interval:3e4}),s=n(()=>T.response),o=n(()=>{var a;return(a=s.value)==null?void 0:a.flowRunId}),h=n(()=>o.value?[o.value]:null),y=p(i.flowRuns.getFlowRun,h),c=n(()=>{var a;return(a=s.value)!=null&&a.taskInputs?JSON.stringify(s.value.taskInputs,void 0,2):"{}"});function w(){y.refresh(),R.push(Z.flowRun(o.value))}const x=n(()=>{var a;return(a=s.value)==null?void 0:a.stateType});N(x);const I=n(()=>s.value?`Task Run: ${s.value.name}`:"Task Run");return U(I),(a,q)=>{const b=l("p-code-highlight"),C=l("p-tabs"),S=l("p-layout-well");return t(s)?(d(),k(S,{key:0,class:"task-run"},{header:e(()=>[u(t(F),{"task-run-id":t(s).id,onDelete:w},null,8,["task-run-id"])]),well:e(()=>[u(t(f),{alternate:"","task-run":t(s)},null,8,["task-run"])]),default:e(()=>[u(C,{tabs:t(v)},L({details:e(()=>[u(t(f),{"task-run":t(s)},null,8,["task-run"])]),logs:e(()=>[u(t(M),{"task-run":t(s)},null,8,["task-run"])]),"task-inputs":e(()=>[t(s)?(d(),k(t(O),{key:0,"text-to-copy":t(c)},{default:e(()=>[u(b,{lang:"json",text:t(c),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:2},[t(s)?{name:"task-inputs-heading",fn:e(()=>[m(" Task inputs "),u(t(P),{title:"Task Inputs"},{default:e(()=>[m(z(t(J).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):_("",!0)}}});export{Q as default};
