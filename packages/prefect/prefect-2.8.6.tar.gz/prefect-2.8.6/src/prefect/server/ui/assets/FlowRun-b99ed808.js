import{d as L,r as j,aj as B,c as l,Z as D,F as P,ak as A,al as N,am as V,a,w as s,a2 as p,a3 as q,T as O,an as U,o as n,u as e,ao as Y,e as u,ap as d,aq as Z,b as m,ar as $,as as z,at as E,au as G}from"./index-4d5db146-65db30f1.js";import{u as H}from"./usePageTitle-064626f5.js";import"./index-4882272f.js";import{r as J}from"./routes-6a4f68fa.js";const ee=L({__name:"FlowRun",setup(K){const _=q(),c=j("Logs"),f=B("flowRunId"),y=l(()=>{const o=["Logs","Task Runs","Subflow Runs","Parameters"];return O.xl||o.push("Details"),o}),R=D(),v=P(R.flowRuns.getFlowRun,[f],{interval:5e3}),t=l(()=>v.response),g=l(()=>{var o;return(o=t.value)==null?void 0:o.deploymentId}),w=A(g);N(f,(o,r)=>{o!==r&&(c.value="Logs")});const k=l(()=>{var o;return((o=t.value)==null?void 0:o.parameters)??{}}),h=l(()=>{var o;return((o=w.value)==null?void 0:o.parameterOpenApiSchema)??{}}),i=l(()=>U(k.value,h.value));function x(){_.push(J.flowRuns())}const b=l(()=>{var o;return(o=t.value)==null?void 0:o.stateType});V(b);const F=l(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return H(F),(o,r)=>{const T=p("p-code-highlight"),S=p("p-tabs"),C=p("p-layout-well");return n(),a(C,{class:"flow-run"},{header:s(()=>[e(t)?(n(),a(e(Y),{key:0,"flow-run-id":e(t).id,onDelete:x},null,8,["flow-run-id"])):u("",!0)]),well:s(()=>[e(t)?(n(),a(e(d),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):u("",!0)]),default:s(()=>[e(t)?(n(),a(e(Z),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0),m(S,{selected:c.value,"onUpdate:selected":r[0]||(r[0]=I=>c.value=I),tabs:e(y)},{details:s(()=>[e(t)?(n(),a(e(d),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),logs:s(()=>[e(t)?(n(),a(e($),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),"task-runs":s(()=>[e(t)?(n(),a(e(z),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":s(()=>[e(t)?(n(),a(e(E),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),parameters:s(()=>[e(w)?(n(),a(e(G),{key:0,"text-to-copy":e(i)},{default:s(()=>[m(T,{lang:"json",text:e(i),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):u("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
