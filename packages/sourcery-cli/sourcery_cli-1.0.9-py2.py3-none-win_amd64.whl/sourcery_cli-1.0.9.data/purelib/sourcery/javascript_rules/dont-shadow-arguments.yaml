rules:
- id: dont-shadow-arguments
  description: Don't shadow `arguments`.
  explanation: |
    Never name a parameter `arguments`.
    This will take precedence over the arguments object that is given to every function scope.

    From the [Airbnb JavaScript Style Guide](https://airbnb.io/javascript/#functions--arguments-shadow)
  language: javascript
  tags:
  - airbnb-javascript-style-guide
  - airbnb
  - default
  all:
  - pattern: arguments
  - inside:
      kind: formal_parameters   # TODO Want this to be direct child-parent
  tests:
  - match: |
      function foo(name, options, arguments) {
        something();
      }
  - match: |
      function foo(name, options, arguments=something) {
        something();
      }
  - match: | # TODO This is a false positive - but should be v rare
      function foo(name, options, arg=arguments()) {
        something();
      }
  - match: |
      (name, arguments, options) => {}
  - match: |
      function foo(name, options, ...arguments) {
        something();
      }
  - no-match: |
      function foo(name, options, args) {
        something();
      }
