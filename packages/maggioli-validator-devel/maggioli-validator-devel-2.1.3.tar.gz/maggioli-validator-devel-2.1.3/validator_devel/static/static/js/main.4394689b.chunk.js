(this["webpackJsonpvalidator-react"]=this["webpackJsonpvalidator-react"]||[]).push([[0],{166:function(e,t,n){e.exports=n(401)},175:function(e,t,n){},392:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(25),c=n.n(o),l=n(16),s=n(32),u=n(165),i=n(37),d="SET_QUERY_FILTER",E="CHANGED_QUERY_FILTER",p="SET_FIELD_FILTER",f="MODULE_DATA_REQUEST",m="MODULE_DATA_RECEIVED",O="MODULE_DATA_ERROR";function b(e){return{type:E,query:e}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var R="FIELD_PATH";var g=Object(s.c)({fieldFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.field;default:return e}},queryFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.query;default:return e}},modules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e;case m:return t.modules;default:return e}},currentDownloadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{module:null,folders:null,lastError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREPARE_FOLDER_REQUEST":case"PREPARE_MODULE_REQUEST":case"PREPARE_SINGLE_MODULE_REQUEST":case"PREPARE_PDF_REQUEST":return t.hasOwnProperty("folders")?h({},e,{folders:t.folders,lastError:null}):t.hasOwnProperty("module_key")?h({},e,{module:t.module_key,lastError:null}):e;case"PREPARE_FOLDER_ERROR":case"PREPARE_MODULE_ERROR":case"PREPARE_FOLDER_REQUEST_ERROR":case"PREPARE_MODULE_REQUEST_ERROR":case"PREPARE_SINGLE_MODULE_REQUEST_ERROR":case"PREPARE_PDF_REQUEST_ERROR":return{lastError:t.error,module:null,folders:null};case"PREPARE_FOLDER_RECEIVED":case"PREPARE_MODULE_RECEIVED":case"PREPARE_SINGLE_MODULE_RECEIVED":case"PREPARE_PDF_RECEIVED":return{lastError:null,module:null,folders:null};case"CLEAN_ERROR":return h({},e,{lastError:null});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stu3Flag:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTING":return h({},e,{},t.settings);default:return e}}}),_=(n(175),n(26)),j=n(27),v=n(29),w=n(28),P=n(30),k=n(23),D=n(97),x=n.n(D),S=n(47),A=n.n(S),L=n(79),U=n.n(L),C=n(144),T=n.n(C),I=n(75),N=n.n(I),F=n(76),M=n.n(F),Q=n(77),q=n.n(Q),G=n(38),V=n.n(G),W=n(48),B=n.n(W),z=n(22),Y=n.n(z),H=n(145),J=n.n(H),X=n(78),$=n.n(X),K=n(149),Z=n.n(K),ee=n(146),te=n.n(ee),ne=n(147),re=n.n(ne),ae=n(148),oe=n.n(ae);var ce=Object(k.withStyles)((function(e){return{noMaxWidth:{maxWidth:"none"},folderContainer:{justifyContent:"center",alignItems:"flex-end"},folderIcon:{margin:0,verticalAlign:"middle",color:"#969696",marginRight:.5*e.spacing.unit}}}))(Object(l.b)((function(e,t){var n=T()(e.modules,(function(e){return e.key===t.moduleId}));if(n<0)throw new Error("Can't find module with ID: ".concat(t.moduleId," in the store."));return{module:e.modules[n],working:!!e.currentDownloadStatus.module||!!e.currentDownloadStatus.folders}}))((function(e){var t=e.classes,n=e.module,r=e.dispatch,o=e.working,c=Object(l.d)((function(e){return e.settings.stu3Flag}))?"?stu3=true":"";return a.a.createElement(N.a,{divider:!0,button:!0,onClick:function(){return window.open("/module/".concat(n.key).concat(c),"_blank")}},a.a.createElement(M.a,null,a.a.createElement(B.a,{title:n.file_path,placement:"left",classes:{tooltip:t.noMaxWidth}},a.a.createElement(J.a,null))),a.a.createElement(q.a,{primary:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:t.folderContainer},a.a.createElement(te.a,{className:t.folderIcon,fontSize:"small"}),n.folders.join("/"))),secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(Y.a,{component:"span",className:t.inline,color:"textPrimary"},n.filename),n.urn)}),a.a.createElement(V.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"EDIT_MODULE_REQUEST",module_key:n.key}),console.log("Edit module with key: ".concat(n.key))}},a.a.createElement(B.a,{title:"Edit module"},a.a.createElement(re.a,null))),a.a.createElement(V.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_SINGLE_MODULE_REQUEST",module_key:n.key}),console.log("Download single module with key: ".concat(n.key))}},a.a.createElement(B.a,{title:"Download single module"},a.a.createElement(oe.a,null))),a.a.createElement(V.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_MODULE_REQUEST",module_key:n.key}),console.log("Download module with key: ".concat(n.key))}},a.a.createElement(B.a,{title:"Download module with all dependencies"},a.a.createElement($.a,null))),a.a.createElement(V.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_PDF_REQUEST",module_key:n.key}),console.log("Download PDF for module with key: ".concat(n.key))}},a.a.createElement(B.a,{title:"Download PDF preview"},a.a.createElement(Z.a,null))))})));function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){function t(){return Object(_.a)(this,t),Object(v.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.modules;return Array.isArray(n)?a.a.createElement(A.a,{className:t.search_result,elevation:1},a.a.createElement(U.a,{dense:!0,component:"nav"},n.map((function(e){return a.a.createElement(ce,{moduleId:e,key:e})})))):a.a.createElement("div",null)}}]),t}(a.a.Component),ie=Object(k.withStyles)((function(e){return{search_result:se({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),noMaxWidth:{maxWidth:"none"}}}))(ue),de=n(150),Ee=n.n(de),pe=function(e,t){if(""===t)return{};return Ee.a.go(t,e,{limit:30,threshold:-1e4,keys:["file_path","folders_search","urn","code"]}).map((function(e){return e.obj.key}))},fe=Object(l.b)((function(e){return{modules:pe(e.modules,e.queryFilter)}}),(function(e){return{onSearchCange:function(t){e(b(t))}}}))(ie),me=n(151),Oe=n.n(me),be=n(156),ye=n.n(be),he=n(153),Re=n.n(he),ge=n(152),_e=n.n(ge),je=n(154),ve=n.n(je),we=n(155),Pe=n.n(we),ke=n(81);function De(e,t){return Object(ke.a)(new Set(e.filter((function(e){return e.folders_search.startsWith(t.join("/"))})).filter((function(e){return e.folders.length>t.length})).map((function(e){return e.folders[t.length]})).sort()))}var xe=function(e){function t(){return Object(_.a)(this,t),Object(v.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.subModules,n=e.subFolders,r=e.folders,o=n.map((function(e){return a.a.createElement(Ce,{key:[].concat(Object(ke.a)(r),[e]).join("/"),folders:[].concat(Object(ke.a)(r),[e])})})),c=t.map((function(e){return a.a.createElement(ce,{moduleId:e.key,key:e.key})}));return a.a.createElement(U.a,{dense:!0,component:"div",style:{paddingLeft:16*r.length}},o,c)}}]),t}(a.a.Component),Se=Object(l.b)((function(e,t){return{subModules:(n=e.modules,r=t.folders,n.filter((function(e){return e.folders_search===r.join("/")})).sort()),subFolders:De(e.modules,t.folders)};var n,r}))(xe);function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ue=function(e){return{search_result:Le({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),progress:{position:"absolute",top:0,left:0,zIndex:1}}},Ce=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(v.a)(this,Object(w.a)(t).call(this,e))).toogleOpen=function(){n.setState((function(e){return{open:!e.open}}))},n.state={open:!1},n}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.downloadLoading,r=e.folders,o=e.dispatch;return a.a.createElement("div",null,a.a.createElement(N.a,{divider:!0,button:!0,onClick:this.toogleOpen},a.a.createElement(M.a,null,a.a.createElement(_e.a,null)),a.a.createElement(q.a,{inset:!0,primary:r[r.length-1]}),a.a.createElement(V.a,{disabled:n,onClick:function(e){e.stopPropagation(),o(function(e){return{type:"PREPARE_FOLDER_REQUEST",folders:e}}(r))}},a.a.createElement($.a,null),n&&a.a.createElement(Re.a,{size:50,className:t.progress})),this.state.open?a.a.createElement(ve.a,null):a.a.createElement(Pe.a,null)),a.a.createElement(ye.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},a.a.createElement(Se,{folders:r})))}}]),t}(a.a.Component),Te=function(e){function t(){return Object(_.a)(this,t),Object(v.a)(this,Object(w.a)(t).apply(this,arguments))}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.modules;return Array.isArray(n)?a.a.createElement(A.a,{className:t.search_result,elevation:1},a.a.createElement(Se,{folders:[]})):a.a.createElement(A.a,{className:t.search_result,elevation:1},a.a.createElement(Y.a,{variant:"h5"},"No modules."))}}]),t}(a.a.Component);Te=Object(k.withStyles)(Ue)(Te),Ce=Object(k.withStyles)(Ue)(Object(l.b)((function(e,t){return e.currentDownloadStatus.hasOwnProperty("folders")&&Array.isArray(e.currentDownloadStatus.folders)&&Oe()(e.currentDownloadStatus.folders.join("/"),t.folders.join("/"))?{downloadLoading:!0}:{downloadLoading:!1}}))(Ce));var Ie=Object(l.b)((function(e){return{modules:e.modules}}),(function(e){return{}}))(Te),Ne=n(160),Fe=n.n(Ne),Me=n(161),Qe=n.n(Me),qe=n(159),Ge=n.n(qe),Ve=n(162),We=n.n(Ve),Be=n(158),ze=n.n(Be),Ye=n(157),He=n.n(Ye);function Je(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.settings.stu3Flag}));return a.a.createElement(He.a,{control:a.a.createElement(ze.a,{checked:t,onChange:function(t){return e({type:"UPDATE_SETTING",settings:{stu3Flag:t.target.checked}})},value:"stu3_flag",color:"primary"}),label:"STU3 loader"})}var Xe=Object(k.withStyles)((function(e){return{search_box:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit,width:"100%"}}}))(Object(l.b)()((function(e){var t=e.dispatch,n=e.classes;return a.a.createElement(Ge.a,{className:n.search_box},a.a.createElement(Fe.a,{id:"search-input",startAdornment:a.a.createElement(Qe.a,{position:"start"},a.a.createElement(We.a,null)),onChange:function(e){e.preventDefault(),t(b(e.target.value))}}),a.a.createElement(Je,null))}))),$e=n(98),Ke=n(164),Ze=n.n(Ke),et=n(163),tt=n.n(et),nt=n(80),rt=n.n(nt),at=function(e){function t(){var e,n;Object(_.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.handleClose=function(){(0,n.props.dispatch)({type:"CLEAN_ERROR"})},n.errorHeaderMessage=function(){var e=n.props.error;if(null==e)return a.a.createElement("div",null,"No error to display.");var t=e.type.split("."),r=Object($e.a)(t,2),o=r[0],c=r[1];switch(console.log("CANI CANI CANI",e,o,c),o){case"folder_request":return a.a.createElement(Y.a,{variant:"body1"},"La generazione della cartella ",a.a.createElement("em",null,e.request)," \xe8 fallita");case"module_request":return a.a.createElement(Y.a,{variant:"body1"},"La generazione del modulo ",a.a.createElement("em",null,e.request)," \xe8 fallita");default:return}},n.errorContentMessage=function(){var e=n.props.error;if(null==e)return a.a.createElement("div",null,"No error to display.");var t=e.type.split("."),r=Object($e.a)(t,2),o=r[0],c=r[1];switch(console.log("CANI CANI CANI",e,o,c),c){case"key_error":return a.a.createElement(Y.a,{variant:"body1"},"Non \xe8 stato trovato un modulo con questo URN: ",a.a.createElement("em",null,e.missing_key));case"template_not_found":return a.a.createElement("div",null,a.a.createElement(Y.a,{variant:"body1"},"Non sono stati trovati template con questi nomi:"),a.a.createElement("ul",null,e.missing_templates.map((function(e){return a.a.createElement("li",null,e)}))),a.a.createElement(Y.a,{variant:"body1"},"In genere sono nella prozione ",a.a.createElement("em",null,"extends")," del modulo."));default:return}},n}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.classes;return a.a.createElement("div",null,a.a.createElement(tt.a,{onClose:this.handleClose,"aria-labelledby":"error-dialog",open:null!=t},a.a.createElement(Y.a,{variant:"h4",className:n.dialogContent},"La generazione del modulo \xe8 fallita"),a.a.createElement(rt.a,{variant:"middle"}),a.a.createElement("div",{className:n.dialogContent},this.errorHeaderMessage(),this.errorContentMessage()),a.a.createElement(Y.a,{variant:"body1"}),a.a.createElement(rt.a,{variant:"middle"}),a.a.createElement("pre",{fontFamily:"Monospace",m:1,className:n.dialogContent},t&&t.stacktrace.join("\n")),a.a.createElement(rt.a,{variant:"middle"}),a.a.createElement(Ze.a,{onClick:this.handleClose,color:"primary"},"Close")))}}]),t}(a.a.Component),ot=Object(l.b)((function(e,t){return null!==e.currentDownloadStatus.lastError?{error:e.currentDownloadStatus.lastError}:{error:null}}))(Object(k.withStyles)((function(e){return{dialogContent:{padding:2*e.spacing.unit}}}))(at));n(392);function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var st=function(e){function t(){var e,n;Object(_.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(v.a)(this,(e=Object(w.a)(t)).call.apply(e,[this].concat(a)))).state={query:"",queryFilter:"file_path",openModule:!1,moduleTarget:null},n.componentDidMount=function(){return n.props.onLoad()},n}return Object(P.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.query;return a.a.createElement("div",{className:t.root},a.a.createElement(x.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:16,className:t.search_box},a.a.createElement(x.a,{item:!0,xs:8},a.a.createElement(Xe,null))),n?a.a.createElement(fe,null):a.a.createElement(Ie,null),a.a.createElement(ot,null))}}]),t}(a.a.Component),ut=Object(k.withStyles)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},search_box:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit,width:"100%"},search_result:lt({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),module_box:{marginBottom:2*e.spacing.unit},noMaxWidth:{maxWidth:"none"}}}))(Object(l.b)((function(e,t){return{query:e.queryFilter}}),(function(e){return{onLoad:function(){e({type:f})}}}))(st));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=n(11),dt=n.n(it),Et=n(8),pt=n(40),ft=n.n(pt),mt=dt.a.mark(vt),Ot=dt.a.mark(wt),bt=dt.a.mark(kt),yt=dt.a.mark(Dt),ht=dt.a.mark(xt),Rt=dt.a.mark(St),gt=dt.a.mark(At),_t=dt.a.mark(Lt),jt=dt.a.mark(Ut);function vt(e){return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Et.b)(Et.c,500);case 2:return e.type=d,t.next=5,Object(Et.d)(e);case 5:case"end":return t.stop()}}),mt)}function wt(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.f)(E,vt);case 2:case"end":return e.stop()}}),Ot)}function Pt(){return ft.a.get("/module").then((function(e){return e.body}))}function kt(e){var t;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(Et.e)(f);case 3:return e.prev=3,e.next=6,Object(Et.b)(Pt);case 6:if(t=e.sent){e.next=11;break}return e.next=10,Object(Et.d)({type:O});case 10:return e.abrupt("continue",0);case 11:return t.map((function(e){return Array.isArray(e.folders)&&(e.folders_search=e.folders.join("/")),e})),e.next=14,Object(Et.d)({type:m,modules:t});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(3),e.next=20,Object(Et.d)({type:O});case 20:e.next=0;break;case 22:case"end":return e.stop()}}),bt,null,[[3,16]])}function Dt(){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dt.a.mark((function e(){var t,n,r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("PREPARE_FOLDER_REQUEST");case 2:return t=e.sent,n=t.folders,e.prev=4,e.next=7,Object(Et.b)((function(){return ft.a.get("/folder/".concat(n.join("-"),"/download")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(Et.d)({type:"PREPARE_FOLDER_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(Et.d)({type:"PREPARE_FOLDER_RECEIVED",response:r});case 15:window.location.href="/download/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(Et.d)({type:"PREPARE_FOLDER_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),yt)}function xt(){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dt.a.mark((function e(){var t,n,r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("PREPARE_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(Et.b)((function(){return ft.a.get("/module/".concat(n,"/download")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(Et.d)({type:"PREPARE_MODULE_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(Et.d)({type:"PREPARE_MODULE_RECEIVED",response:r});case 15:window.location.href="/download/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(Et.d)({type:"PREPARE_MODULE_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),ht)}function St(){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dt.a.mark((function e(){var t,n,r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("PREPARE_SINGLE_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(Et.b)((function(){return ft.a.get("/module/".concat(n,"/download_single")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(Et.d)({type:"PREPARE_SINGLE_MODULE_REQUEST_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(Et.d)({type:"PREPARE_SINGLE_MODULE_RECEIVED",response:r});case 15:window.location.href="/download-single/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(Et.d)({type:"PREPARE_SINGLE_MODULE_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),Rt)}function At(){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dt.a.mark((function e(){var t,n,r;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("PREPARE_PDF_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(Et.b)((function(){return ft.a.get("/module/".concat(n,"/pdf")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(Et.d)({type:"PREPARE_PDF_REQUEST_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(Et.d)({type:"PREPARE_PDF_RECEIVED",response:r});case 15:window.location.href="/download-pdf/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(Et.d)({type:"PREPARE_PDF_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),gt)}function Lt(){var e;return dt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=dt.a.mark((function e(){var t,n;return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.e)("EDIT_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.next=6,Object(Et.b)((function(){return ft.a.get("/module/".concat(n,"/edit")).then((function(e){return e.body}))}));case 6:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),_t)}function Ut(){return dt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Et.a)([Dt(),xt(),St(),At(),wt(),kt(),Lt()]);case 2:case"end":return e.stop()}}),jt)}var Ct=Object(u.a)(),Tt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,It=Object(s.e)(g,Tt(Object(s.a)(Ct)));Ct.run(Ut),c.a.render(a.a.createElement(l.a,{store:It},a.a.createElement(ut,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[166,1,2]]]);
//# sourceMappingURL=main.4394689b.chunk.js.map