(this["webpackJsonpvalidator-react"]=this["webpackJsonpvalidator-react"]||[]).push([[0],{165:function(e,t,n){e.exports=n(399)},174:function(e,t,n){},390:function(e,t,n){},399:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(24),c=n.n(o),l=n(16),s=n(32),i=n(164),u=n(39),d="SET_QUERY_FILTER",E="CHANGED_QUERY_FILTER",p="SET_FIELD_FILTER",f="MODULE_DATA_REQUEST",m="MODULE_DATA_RECEIVED",O="MODULE_DATA_ERROR";function b(e){return{type:E,query:e}}function h(e,t){return{type:"PREPARE_FOLDER_REQUEST",folders:e,withDeps:t}}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g="FIELD_PATH";var _=Object(s.c)({fieldFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return t.field;default:return e}},queryFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return t.query;default:return e}},modules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f:return e;case m:return t.modules;default:return e}},currentDownloadStatus:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{module:null,folders:null,lastError:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREPARE_FOLDER_REQUEST":case"PREPARE_MODULE_REQUEST":case"PREPARE_SINGLE_MODULE_REQUEST":case"PREPARE_PDF_REQUEST":return t.hasOwnProperty("folders")?R({},e,{folders:t.folders,lastError:null}):t.hasOwnProperty("module_key")?R({},e,{module:t.module_key,lastError:null}):e;case"PREPARE_FOLDER_ERROR":case"PREPARE_MODULE_ERROR":case"PREPARE_FOLDER_REQUEST_ERROR":case"PREPARE_MODULE_REQUEST_ERROR":case"PREPARE_SINGLE_MODULE_REQUEST_ERROR":case"PREPARE_PDF_REQUEST_ERROR":return{lastError:t.error,module:null,folders:null};case"PREPARE_FOLDER_RECEIVED":case"PREPARE_MODULE_RECEIVED":case"PREPARE_SINGLE_MODULE_RECEIVED":case"PREPARE_PDF_RECEIVED":return{lastError:null,module:null,folders:null};case"CLEAN_ERROR":return R({},e,{lastError:null});default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stu3Flag:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SETTING":return R({},e,{},t.settings);default:return e}}}),j=(n(174),n(25)),v=n(26),w=n(28),P=n(27),D=n(29),k=n(23),x=n(98),S=n.n(x),A=n(48),L=n.n(A),U=n(80),C=n.n(U),T=n(145),I=n.n(T),N=n(75),F=n.n(N),M=n(76),Q=n.n(M),q=n(77),G=n.n(q),V=n(36),W=n.n(V),B=n(37),Y=n.n(B),z=n(22),H=n.n(z),J=n(146),X=n.n(J),$=n(79),K=n.n($),Z=n(149),ee=n.n(Z),te=n(147),ne=n.n(te),re=n(148),ae=n.n(re),oe=n(78),ce=n.n(oe);var le=Object(k.withStyles)((function(e){return{noMaxWidth:{maxWidth:"none"},folderContainer:{justifyContent:"center",alignItems:"flex-end"},folderIcon:{margin:0,verticalAlign:"middle",color:"#969696",marginRight:.5*e.spacing.unit}}}))(Object(l.b)((function(e,t){var n=I()(e.modules,(function(e){return e.key===t.moduleId}));if(n<0)throw new Error("Can't find module with ID: ".concat(t.moduleId," in the store."));return{module:e.modules[n],working:!!e.currentDownloadStatus.module||!!e.currentDownloadStatus.folders}}))((function(e){var t=e.classes,n=e.module,r=e.dispatch,o=e.working,c=Object(l.d)((function(e){return e.settings.stu3Flag}))?"?stu3=true":"";return a.a.createElement(F.a,{divider:!0,button:!0,onClick:function(){return window.open("/module/".concat(n.key).concat(c),"_blank")}},a.a.createElement(Q.a,null,a.a.createElement(Y.a,{title:n.file_path,placement:"left",classes:{tooltip:t.noMaxWidth}},a.a.createElement(X.a,null))),a.a.createElement(G.a,{primary:a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:t.folderContainer},a.a.createElement(ne.a,{className:t.folderIcon,fontSize:"small"}),n.folders.join("/"))),secondary:a.a.createElement(a.a.Fragment,null,a.a.createElement(H.a,{component:"span",className:t.inline,color:"textPrimary"},n.filename),n.urn," - ",n.code)}),a.a.createElement(W.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"EDIT_MODULE_REQUEST",module_key:n.key}),console.log("Edit module with key: ".concat(n.key))}},a.a.createElement(Y.a,{title:"Edit module"},a.a.createElement(ae.a,null))),a.a.createElement(W.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_SINGLE_MODULE_REQUEST",module_key:n.key}),console.log("Download single module with key: ".concat(n.key))}},a.a.createElement(Y.a,{title:"Download single module"},a.a.createElement(ce.a,null))),a.a.createElement(W.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_MODULE_REQUEST",module_key:n.key}),console.log("Download module with key: ".concat(n.key))}},a.a.createElement(Y.a,{title:"Download module with all dependencies"},a.a.createElement(K.a,null))),a.a.createElement(W.a,{disabled:o,onClick:function(e){e.stopPropagation(),r({type:"PREPARE_PDF_REQUEST",module_key:n.key}),console.log("Download PDF for module with key: ".concat(n.key))}},a.a.createElement(Y.a,{title:"Download PDF preview"},a.a.createElement(ee.a,null))))})));function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(e){function t(){return Object(j.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.modules;return Array.isArray(n)?a.a.createElement(L.a,{className:t.search_result,elevation:1},a.a.createElement(C.a,{dense:!0,component:"nav"},n.map((function(e){return a.a.createElement(le,{moduleId:e,key:e})})))):a.a.createElement("div",null)}}]),t}(a.a.Component),de=Object(k.withStyles)((function(e){return{search_result:ie({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),noMaxWidth:{maxWidth:"none"}}}))(ue),Ee=n(150),pe=n.n(Ee),fe=function(e,t){if(""===t)return{};return pe.a.go(t,e,{limit:30,threshold:-1e4,keys:["file_path","folders_search","urn","code"]}).map((function(e){return e.obj.key}))},me=Object(l.b)((function(e){return{modules:fe(e.modules,e.queryFilter)}}),(function(e){return{onSearchCange:function(t){e(b(t))}}}))(de),Oe=n(151),be=n.n(Oe),he=n(155),ye=n.n(he),Re=n(152),ge=n.n(Re),_e=n(153),je=n.n(_e),ve=n(154),we=n.n(ve),Pe=n(82);function De(e,t){return Object(Pe.a)(new Set(e.filter((function(e){return e.folders_search.startsWith(t.join("/"))})).filter((function(e){return e.folders.length>t.length})).map((function(e){return e.folders[t.length]})).sort()))}var ke=function(e){function t(){return Object(j.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.subModules,n=e.subFolders,r=e.folders,o=n.map((function(e){return a.a.createElement(Ue,{key:[].concat(Object(Pe.a)(r),[e]).join("/"),folders:[].concat(Object(Pe.a)(r),[e])})})),c=t.map((function(e){return a.a.createElement(le,{moduleId:e.key,key:e.key})}));return a.a.createElement(C.a,{dense:!0,component:"div",style:{paddingLeft:16*r.length}},o,c)}}]),t}(a.a.Component),xe=Object(l.b)((function(e,t){return{subModules:(n=e.modules,r=t.folders,n.filter((function(e){return e.folders_search===r.join("/")})).sort()),subFolders:De(e.modules,t.folders)};var n,r}))(ke);function Se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Se(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Le=function(e){return{search_result:Ae({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),progress:{position:"absolute",top:0,left:0,zIndex:1}}},Ue=function(e){function t(e){var n;return Object(j.a)(this,t),(n=Object(w.a)(this,Object(P.a)(t).call(this,e))).toogleOpen=function(){n.setState((function(e){return{open:!e.open}}))},n.state={open:!1},n}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=(e.classes,e.downloadLoading),n=e.folders,r=e.dispatch;return a.a.createElement("div",null,a.a.createElement(F.a,{divider:!0,button:!0,onClick:this.toogleOpen},a.a.createElement(Q.a,null,a.a.createElement(ge.a,null)),a.a.createElement(G.a,{inset:!0,primary:n[n.length-1]}),a.a.createElement(W.a,{disabled:t,onClick:function(e){e.stopPropagation(),r(h(n,!1))}},a.a.createElement(Y.a,{title:"Download single folder"},a.a.createElement(ce.a,null))),a.a.createElement(W.a,{disabled:t,onClick:function(e){e.stopPropagation(),r(h(n,!0))}},a.a.createElement(Y.a,{title:"Download folder with all dependencies"},a.a.createElement(K.a,null))),this.state.open?a.a.createElement(je.a,null):a.a.createElement(we.a,null)),a.a.createElement(ye.a,{in:this.state.open,timeout:"auto",unmountOnExit:!0},a.a.createElement(xe,{folders:n})))}}]),t}(a.a.Component),Ce=function(e){function t(){return Object(j.a)(this,t),Object(w.a)(this,Object(P.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.modules;return Array.isArray(n)?a.a.createElement(L.a,{className:t.search_result,elevation:1},a.a.createElement(xe,{folders:[]})):a.a.createElement(L.a,{className:t.search_result,elevation:1},a.a.createElement(H.a,{variant:"h5"},"No modules."))}}]),t}(a.a.Component);Ce=Object(k.withStyles)(Le)(Ce),Ue=Object(k.withStyles)(Le)(Object(l.b)((function(e,t){return e.currentDownloadStatus.hasOwnProperty("folders")&&Array.isArray(e.currentDownloadStatus.folders)&&be()(e.currentDownloadStatus.folders.join("/"),t.folders.join("/"))?{downloadLoading:!0}:{downloadLoading:!1}}))(Ue));var Te=Object(l.b)((function(e){return{modules:e.modules}}),(function(e){return{}}))(Ce),Ie=n(159),Ne=n.n(Ie),Fe=n(160),Me=n.n(Fe),Qe=n(158),qe=n.n(Qe),Ge=n(161),Ve=n.n(Ge),We=n(157),Be=n.n(We),Ye=n(156),ze=n.n(Ye);function He(){var e=Object(l.c)(),t=Object(l.d)((function(e){return e.settings.stu3Flag}));return a.a.createElement(ze.a,{control:a.a.createElement(Be.a,{checked:t,onChange:function(t){return e({type:"UPDATE_SETTING",settings:{stu3Flag:t.target.checked}})},value:"stu3_flag",color:"primary"}),label:"STU3 loader"})}var Je=Object(k.withStyles)((function(e){return{search_box:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit,width:"100%"}}}))(Object(l.b)()((function(e){var t=e.dispatch,n=e.classes;return a.a.createElement(qe.a,{className:n.search_box},a.a.createElement(Ne.a,{id:"search-input",startAdornment:a.a.createElement(Me.a,{position:"start"},a.a.createElement(Ve.a,null)),onChange:function(e){e.preventDefault(),t(b(e.target.value))}}),a.a.createElement(He,null))}))),Xe=n(99),$e=n(163),Ke=n.n($e),Ze=n(162),et=n.n(Ze),tt=n(81),nt=n.n(tt),rt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(w.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(o)))).state={open:!1},n.handleClose=function(){(0,n.props.dispatch)({type:"CLEAN_ERROR"})},n.errorHeaderMessage=function(){var e=n.props.error;if(null==e)return a.a.createElement("div",null,"No error to display.");var t=e.type.split("."),r=Object(Xe.a)(t,2),o=r[0],c=r[1];switch(console.log("CANI CANI CANI",e,o,c),o){case"folder_request":return a.a.createElement(H.a,{variant:"body1"},"La generazione della cartella ",a.a.createElement("em",null,e.request)," \xe8 fallita");case"module_request":return a.a.createElement(H.a,{variant:"body1"},"La generazione del modulo ",a.a.createElement("em",null,e.request)," \xe8 fallita");default:return}},n.errorContentMessage=function(){var e=n.props.error;if(null==e)return a.a.createElement("div",null,"No error to display.");var t=e.type.split("."),r=Object(Xe.a)(t,2),o=r[0],c=r[1];switch(console.log("CANI CANI CANI",e,o,c),c){case"key_error":return a.a.createElement(H.a,{variant:"body1"},"Non \xe8 stato trovato un modulo con questo URN: ",a.a.createElement("em",null,e.missing_key));case"template_not_found":return a.a.createElement("div",null,a.a.createElement(H.a,{variant:"body1"},"Non sono stati trovati template con questi nomi:"),a.a.createElement("ul",null,e.missing_templates.map((function(e){return a.a.createElement("li",null,e)}))),a.a.createElement(H.a,{variant:"body1"},"In genere sono nella prozione ",a.a.createElement("em",null,"extends")," del modulo."));default:return}},n}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.error,n=e.classes;return a.a.createElement("div",null,a.a.createElement(et.a,{onClose:this.handleClose,"aria-labelledby":"error-dialog",open:null!=t},a.a.createElement(H.a,{variant:"h4",className:n.dialogContent},"La generazione del modulo \xe8 fallita"),a.a.createElement(nt.a,{variant:"middle"}),a.a.createElement("div",{className:n.dialogContent},this.errorHeaderMessage(),this.errorContentMessage()),a.a.createElement(H.a,{variant:"body1"}),a.a.createElement(nt.a,{variant:"middle"}),a.a.createElement("pre",{fontFamily:"Monospace",m:1,className:n.dialogContent},t&&t.stacktrace.join("\n")),a.a.createElement(nt.a,{variant:"middle"}),a.a.createElement(Ke.a,{onClick:this.handleClose,color:"primary"},"Close")))}}]),t}(a.a.Component),at=Object(l.b)((function(e,t){return null!==e.currentDownloadStatus.lastError?{error:e.currentDownloadStatus.lastError}:{error:null}}))(Object(k.withStyles)((function(e){return{dialogContent:{padding:2*e.spacing.unit}}}))(rt));n(390);function ot(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ot(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ot(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt=function(e){function t(){var e,n;Object(j.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(w.a)(this,(e=Object(P.a)(t)).call.apply(e,[this].concat(a)))).state={query:"",queryFilter:"file_path",openModule:!1,moduleTarget:null},n.componentDidMount=function(){return n.props.onLoad()},n}return Object(D.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.query;return a.a.createElement("div",{className:t.root},a.a.createElement(S.a,{container:!0,direction:"row",justify:"center",alignItems:"center",spacing:16,className:t.search_box},a.a.createElement(S.a,{item:!0,xs:8},a.a.createElement(Je,null))),n?a.a.createElement(me,null):a.a.createElement(Te,null),a.a.createElement(at,null))}}]),t}(a.a.Component),st=Object(k.withStyles)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper},search_box:{marginTop:4*e.spacing.unit,marginBottom:4*e.spacing.unit,width:"100%"},search_result:ct({},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit,marginLeft:8*e.spacing.unit,marginRight:8*e.spacing.unit}),module_box:{marginBottom:2*e.spacing.unit},noMaxWidth:{maxWidth:"none"}}}))(Object(l.b)((function(e,t){return{query:e.queryFilter}}),(function(e){return{onLoad:function(){e({type:f})}}}))(lt));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var it=n(10),ut=n.n(it),dt=n(8),Et=n(41),pt=n.n(Et),ft=ut.a.mark(jt),mt=ut.a.mark(vt),Ot=ut.a.mark(Pt),bt=ut.a.mark(Dt),ht=ut.a.mark(kt),yt=ut.a.mark(xt),Rt=ut.a.mark(St),gt=ut.a.mark(At),_t=ut.a.mark(Lt);function jt(e){return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(dt.c)(200);case 2:return e.type=d,t.next=5,Object(dt.d)(e);case 5:case"end":return t.stop()}}),ft)}function vt(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.f)(E,jt);case 2:case"end":return e.stop()}}),mt)}function wt(){return pt.a.get("/module").then((function(e){return e.body}))}function Pt(e){var t;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Object(dt.e)(f);case 3:return e.prev=3,e.next=6,Object(dt.b)(wt);case 6:if(t=e.sent){e.next=11;break}return e.next=10,Object(dt.d)({type:O});case 10:return e.abrupt("continue",0);case 11:return t.map((function(e){return Array.isArray(e.folders)&&(e.folders_search=e.folders.join("/")),e})),e.next=14,Object(dt.d)({type:m,modules:t});case 14:e.next=20;break;case 16:return e.prev=16,e.t0=e.catch(3),e.next=20,Object(dt.d)({type:O});case 20:e.next=0;break;case 22:case"end":return e.stop()}}),Ot,null,[[3,16]])}function Dt(){var e,t,n;return ut.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,Object(dt.e)("PREPARE_FOLDER_REQUEST");case 3:return e=r.sent,t=e.folders,n=e.withDeps,r.prev=6,r.delegateYield(ut.a.mark((function e(){var r,a;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/folder/".concat(t.join("-"),"/download"),n&&(r+="?with_deps=true"),e.next=4,Object(dt.b)((function(){return pt.a.get(r).then((function(e){return e.body}))}));case 4:if(!(a=e.sent).hasOwnProperty("error")){e.next=10;break}return e.next=8,Object(dt.d)({type:"PREPARE_FOLDER_ERROR",error:a.error});case 8:e.next=13;break;case 10:return e.next=12,Object(dt.d)({type:"PREPARE_FOLDER_RECEIVED",response:a});case 12:window.location.href="/download/".concat(a.uuid);case 13:case"end":return e.stop()}}),e)}))(),"t0",8);case 8:r.next=14;break;case 10:return r.prev=10,r.t1=r.catch(6),r.next=14,Object(dt.d)({type:"PREPARE_FOLDER_REQUEST_ERROR",error:r.t1});case 14:r.next=0;break;case 16:case"end":return r.stop()}}),bt,null,[[6,10]])}function kt(){var e;return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ut.a.mark((function e(){var t,n,r;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.e)("PREPARE_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(dt.b)((function(){return pt.a.get("/module/".concat(n,"/download")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(dt.d)({type:"PREPARE_MODULE_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(dt.d)({type:"PREPARE_MODULE_RECEIVED",response:r});case 15:window.location.href="/download/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(dt.d)({type:"PREPARE_MODULE_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),ht)}function xt(){var e;return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ut.a.mark((function e(){var t,n,r;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.e)("PREPARE_SINGLE_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(dt.b)((function(){return pt.a.get("/module/".concat(n,"/download_single")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(dt.d)({type:"PREPARE_SINGLE_MODULE_REQUEST_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(dt.d)({type:"PREPARE_SINGLE_MODULE_RECEIVED",response:r});case 15:window.location.href="/download-single/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(dt.d)({type:"PREPARE_SINGLE_MODULE_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),yt)}function St(){var e;return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ut.a.mark((function e(){var t,n,r;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.e)("PREPARE_PDF_REQUEST");case 2:return t=e.sent,n=t.module_key,e.prev=4,e.next=7,Object(dt.b)((function(){return pt.a.get("/module/".concat(n,"/pdf")).then((function(e){return e.body}))}));case 7:if(!(r=e.sent).hasOwnProperty("error")){e.next=13;break}return e.next=11,Object(dt.d)({type:"PREPARE_PDF_REQUEST_ERROR",error:r.error});case 11:e.next=16;break;case 13:return e.next=15,Object(dt.d)({type:"PREPARE_PDF_RECEIVED",response:r});case 15:window.location.href="/download-pdf/".concat(r.uuid);case 16:e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(4),e.next=22,Object(dt.d)({type:"PREPARE_PDF_REQUEST_ERROR",error:e.t0});case 22:case"end":return e.stop()}}),e,null,[[4,18]])}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),Rt)}function At(){var e;return ut.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=ut.a.mark((function e(){var t,n;return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.e)("EDIT_MODULE_REQUEST");case 2:return t=e.sent,n=t.module_key,e.next=6,Object(dt.b)((function(){return pt.a.get("/module/".concat(n,"/edit")).then((function(e){return e.body}))}));case 6:case"end":return e.stop()}}),e)}));case 1:return t.delegateYield(e(),"t0",3);case 3:t.next=1;break;case 5:case"end":return t.stop()}}),gt)}function Lt(){return ut.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(dt.a)([Dt(),kt(),xt(),St(),vt(),Pt(),At()]);case 2:case"end":return e.stop()}}),_t)}var Ut=Object(i.a)(),Ct=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,Tt=Object(s.e)(_,Ct(Object(s.a)(Ut)));Ut.run(Lt),c.a.render(a.a.createElement(l.a,{store:Tt},a.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,2]]]);
//# sourceMappingURL=main.3215b43c.chunk.js.map