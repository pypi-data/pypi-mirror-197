{"version":3,"sources":["actions/index.js","reducers/index.js","components/tree/Module.js","components/ModuleList.js","containers/FilteredModuleList.js","components/tree/Folder.js","components/ModuleTree.js","containers/FilteredModuleTree.js","containers/Stu3Flag.js","containers/SearchBox.js","components/ErrorDialog.js","App.js","serviceWorker.js","sagas/index.js","index.js"],"names":["SET_QUERY_FILTER","CHANGED_QUERY_FILTER","SET_FIELD_FILTER","MODULE_DATA_REQUEST","MODULE_DATA_RECEIVED","MODULE_DATA_ERROR","setQueryFilter","query","type","FIELD_PATH","validatorApp","combineReducers","fieldFilter","state","action","field","queryFilter","modules","currentDownloadStatus","module","folders","lastError","hasOwnProperty","module_key","error","settings","stu3Flag","withStyles","theme","noMaxWidth","maxWidth","folderContainer","justifyContent","alignItems","folderIcon","margin","verticalAlign","color","marginRight","spacing","unit","connect","props","index","findIndex","m","key","moduleId","Error","working","classes","dispatch","flag","useSelector","divider","button","onClick","window","open","title","file_path","placement","tooltip","primary","Fragment","className","fontSize","join","secondary","component","inline","filename","urn","disabled","e","stopPropagation","console","log","ModuleList","this","Array","isArray","search_result","elevation","dense","map","k","React","Component","mixins","gutters","paddingTop","paddingBottom","marginLeft","getFilteredModules","fuzzysort","go","limit","threshold","keys","result","obj","FilteredModuleList","onSearchCange","getSubFolders","Set","filter","folders_search","startsWith","length","sort","ModuleFolderCompoment","subModules","subFolders","foldersItem","f","modulesItem","style","paddingLeft","ModuleFolder","styles","progress","position","top","left","zIndex","Folder","toogleOpen","setState","downloadLoading","inset","startDownloadFolder","size","in","timeout","unmountOnExit","ModuleTree","variant","isEqual","FilteredModuleTree","Stu3Flag","useDispatch","control","checked","onChange","target","value","label","search_box","marginTop","marginBottom","width","id","startAdornment","preventDefault","ErrorDialog","handleClose","errorHeaderMessage","split","source","request","errorContentMessage","missing_key","missing_templates","t","onClose","aria-labelledby","dialogContent","fontFamily","stacktrace","padding","SearchGrid","openModule","moduleTarget","componentDidMount","onLoad","root","container","direction","justify","item","xs","flexGrow","backgroundColor","palette","background","paper","module_box","Boolean","location","hostname","match","whatchSearchFilter","fetchModules","prepareFolder","prepareModule","prepareModulePDF","listenEdit","rootSaga","call","delay","put","takeLatest","getModules","get","then","res","body","take","response","href","uuid","all","sagaMiddleware","createSagaMiddleware","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","run","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b155117b.chunk.js","sourcesContent":["export const SET_QUERY_FILTER = 'SET_QUERY_FILTER';\nexport const CHANGED_QUERY_FILTER = 'CHANGED_QUERY_FILTER';\nexport const SET_FIELD_FILTER = 'SET_FIELD_FILTER';\n\nexport const MODULE_DATA_REQUEST = 'MODULE_DATA_REQUEST';\nexport const MODULE_DATA_RECEIVED = 'MODULE_DATA_RECEIVED';\nexport const MODULE_DATA_ERROR = 'MODULE_DATA_ERROR';\n\nexport const FieldFilter = {\n  FIELD_FILENAME: 'FIELD_FILENAME',\n  FIELD_URN: 'FIELD_URN',\n  FIELD_PATH: 'FIELD_PATH',\n};\n\nexport function setQueryFilter(query) {\n    return { type: CHANGED_QUERY_FILTER, query };\n}\n\nexport function setFieldFilter(field) {\n    return { type: SET_FIELD_FILTER, field };\n}\n\nexport function getModules() {\n    return { type: MODULE_DATA_REQUEST };\n}\n\nexport function startDownloadFolder(folders) {\n    return {\n        type: 'PREPARE_FOLDER_REQUEST',\n        folders\n    }\n}\n\nexport function startDownloadModule(module_key) {\n    return {\n        type: 'PREPARE_MODULE_REQUEST',\n        module_key\n    }\n}\n\nexport function startDownloadModulePDF(module_key) {\n    return {\n        type: 'PREPARE_PDF_REQUEST',\n        module_key\n    }\n}\n\nexport function editModule(module_key) {\n    return {\n        type: 'EDIT_MODULE_REQUEST',\n        module_key\n    }\n}\n\nexport function cleanError() {\n  return {\n    type: 'CLEAN_ERROR'\n  }\n}\n","import { combineReducers } from 'redux';\nimport {\n    SET_QUERY_FILTER,\n    SET_FIELD_FILTER,\n    MODULE_DATA_REQUEST,\n    MODULE_DATA_RECEIVED,\n    FieldFilter,\n} from '../actions';\n\nconst { FIELD_PATH } = FieldFilter;\n\nfunction fieldFilter(state = FIELD_PATH, action) {\n    switch (action.type) {\n        case SET_FIELD_FILTER:\n            return action.field;\n        default:\n            return state;\n    }\n}\n\nfunction queryFilter(state = \"\", action) {\n    switch (action.type) {\n        case SET_QUERY_FILTER:\n            return action.query;\n        default:\n            return state;\n    }\n}\n\nfunction modules(state = [], action) {\n    switch (action.type) {\n        case MODULE_DATA_REQUEST:\n            return state;\n        case MODULE_DATA_RECEIVED:\n            return action.modules;\n        default:\n            return state;\n    }\n}\n\nfunction currentDownloadStatus(state = {\n    module: null,\n    folders: null,\n    lastError: null,\n}, action) {\n    switch (action.type) {\n        case 'PREPARE_FOLDER_REQUEST':\n        case 'PREPARE_MODULE_REQUEST':\n        case 'PREPARE_PDF_REQUEST':\n            if (action.hasOwnProperty('folders')) {\n                return { ...state, folders: action.folders, lastError: null }\n            } else if(action.hasOwnProperty('module_key'))  {\n                return { ...state, module: action.module_key, lastError: null }\n            }\n            return state\n        case 'PREPARE_FOLDER_ERROR':\n        case 'PREPARE_MODULE_ERROR':\n        case 'PREPARE_FOLDER_REQUEST_ERROR':\n        case 'PREPARE_MODULE_REQUEST_ERROR':\n        case 'PREPARE_PDF_REQUEST_ERROR':\n            return { lastError: action.error, module: null, folders: null }\n        case 'PREPARE_FOLDER_RECEIVED':\n        case 'PREPARE_MODULE_RECEIVED':\n        case 'PREPARE_PDF_RECEIVED':\n            return { lastError: null, module: null, folders: null};\n        case 'CLEAN_ERROR':\n            return { ...state, lastError: null}\n        default:\n            return state;\n    }\n}\n\nfunction settings(state = {stu3Flag: false}, action) {\n    switch (action.type) {\n        case 'UPDATE_SETTING':\n            return {\n                ...state,\n                ...action.settings,\n            }\n        default:\n            return state;\n    }\n}\n\nconst validatorApp = combineReducers({\n    fieldFilter,\n    queryFilter,\n    modules,\n    currentDownloadStatus,\n    settings\n})\n\nexport default validatorApp\n","import React from 'react';\nimport { connect, useSelector } from 'react-redux';\nimport findIndex from 'lodash/findIndex';\n\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport IconButton from '@material-ui/core/IconButton';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport InsertDriveFileOutlined from '@material-ui/icons/InsertDriveFileOutlined';\nimport SaveAlt from '@material-ui/icons/SaveAlt';\nimport PictureAsPdf from '@material-ui/icons/PictureAsPdf';\nimport FolderTwoTone from \"@material-ui/icons/FolderTwoTone\";\nimport Edit from '@material-ui/icons/Edit';\nimport {startDownloadModule, editModule, startDownloadModulePDF} from '../../actions'\n\nconst styles = theme => ({\n  noMaxWidth: {\n    maxWidth: 'none',\n  },\n  folderContainer: {\n    justifyContent: 'center',\n    alignItems: 'flex-end',\n  },\n  folderIcon: {\n    margin: 0,\n    verticalAlign: 'middle',\n    color: '#969696',\n    marginRight: theme.spacing.unit * 0.5,\n  },\n})\n\nfunction Module({ classes, module, dispatch, working }) {\n  const stu3Flag = useSelector(state => state.settings.stu3Flag)\n  const flag = stu3Flag ? '?stu3=true' : ''\n  return (\n      <ListItem\n        divider\n        button\n        onClick={() => window.open(`/module/${module.key}${flag}`, \"_blank\")}\n        >\n        <ListItemIcon>\n            <Tooltip title={module.file_path} placement=\"left\" classes={{ tooltip: classes.noMaxWidth }}>\n              <InsertDriveFileOutlined />\n            </Tooltip>\n          </ListItemIcon>\n          <ListItemText\n            primary={<React.Fragment>\n              <div className={classes.folderContainer}>\n                <FolderTwoTone className={classes.folderIcon} fontSize=\"small\" />\n                {module.folders.join('/')}\n              </div>\n              </React.Fragment>}\n            secondary={\n              <React.Fragment>\n                <Typography component=\"span\" className={classes.inline} color=\"textPrimary\">\n                  {module.filename}\n                </Typography>\n                {module.urn}\n              </React.Fragment>\n            }\n          />\n          <IconButton\n            disabled={working}\n            onClick={(e) => {\n              e.stopPropagation();\n              dispatch(editModule(module.key))\n              console.log(`Edit module with key: ${module.key}`)\n            }}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            disabled={working}\n            onClick={(e) => {\n              e.stopPropagation();\n              dispatch(startDownloadModule(module.key))\n              console.log(`Download module with key: ${module.key}`)\n            }}\n          >\n            <SaveAlt />\n          </IconButton>\n          <IconButton\n              disabled={working}\n              onClick={(e) => {\n                  e.stopPropagation();\n                  dispatch(startDownloadModulePDF(module.key))\n                  console.log(`Download PDF for module with key: ${module.key}`)\n              }}\n          >\n              <PictureAsPdf />\n          </IconButton>\n      </ListItem>\n  )\n}\n\nconst mapStateToProps = (state, props) => {\n  const index = findIndex(state.modules, m => m.key === props.moduleId)\n  if (index < 0) {\n    throw new Error(`Can't find module with ID: ${props.moduleId} in the store.`);\n  }\n\n  return {\n      module: state.modules[index],\n      working: !!state.currentDownloadStatus.module || !!state.currentDownloadStatus.folders,\n  }\n}\n\nexport default withStyles(styles)(connect(mapStateToProps)(Module))\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Paper from '@material-ui/core/Paper';\nimport List from '@material-ui/core/List';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Module from './tree/Module';\n\nconst styles = theme => ({\n  search_result: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    marginLeft: theme.spacing.unit * 8,\n    marginRight: theme.spacing.unit * 8,\n  },\n  noMaxWidth: {\n    maxWidth: 'none',\n  },\n})\n\nclass ModuleList extends React.Component {\n  render() {\n    const { classes, modules } = this.props;\n\n    if (!Array.isArray(modules)) {\n      return (<div></div>)\n    }\n\n    return (\n      <Paper className={classes.search_result} elevation={1}>\n        <List dense component=\"nav\">{modules.map(k => (<Module moduleId={k} key={k} />))}</List>\n      </Paper>\n    )\n  }\n}\n\nModuleList.propTypes = {\n  modules: PropTypes.arrayOf(\n    PropTypes.shape({\n      file_path: PropTypes.string.isRequired,\n      key: PropTypes.string.isRequired,\n      folders: PropTypes.array.isRequired,\n      filename: PropTypes.string.isRequired,\n      code: PropTypes.string.isRequired,\n      extends: PropTypes.string.isRequired,\n      urn: PropTypes.string.isRequired,\n      child_urn: PropTypes.array.isRequired,\n      child_code: PropTypes.array.isRequired,\n    }).isRequired\n  ).isRequired,\n  classes: PropTypes.object.isRequired,\n  clickHandler: PropTypes.func.isRequired,\n};\n\nexport default withStyles(styles)(ModuleList);\n","import { connect } from 'react-redux';\nimport { setQueryFilter } from '../actions';\nimport ModuleList from '../components/ModuleList.js';\n\nimport fuzzysort from \"fuzzysort\";\n\nconst getFilteredModules = (modules, query) => {\n    if (query === \"\") {\n        return {};\n    }\n\n    var options = {\n      limit: 30,\n      threshold: -10000, // don't return bad results\n      keys: ['file_path', 'folders_search', 'urn', 'code'],\n    };\n\n    const results = fuzzysort.go(query, modules, options);\n\n    return results.map(result => result.obj.key);\n}\n\nconst mapStateToProps = state => {\n    return {\n        modules: getFilteredModules(state.modules, state.queryFilter),\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onSearchCange: query => {\n            dispatch(setQueryFilter(query))\n        }\n    };\n}\n\nconst FilteredModuleList = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ModuleList)\n\nexport default FilteredModuleList;\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport List from '@material-ui/core/List';\n\nimport Module from './Module'\nimport { Folder } from '../ModuleTree'\n\nfunction getSubModules(modules, folders) {\n  return modules\n    .filter(m => m.folders_search === folders.join('/'))\n    .sort()\n}\n\nfunction getSubFolders(modules, folders) {\n  return [...new Set(modules\n    .filter(m => m.folders_search.startsWith(folders.join('/')))\n    .filter(m => m.folders.length > folders.length)\n    .map(m => m.folders[folders.length])\n    .sort())]\n}\n\nclass ModuleFolderCompoment extends React.Component {\n  render() {\n    const {\n      subModules,\n      subFolders,\n      folders } = this.props;\n\n    const foldersItem = subFolders.map(f => (<Folder key={[...folders, f].join('/')} folders={[...folders, f]} />));\n    const modulesItem = subModules.map(m => (<Module moduleId={m.key} key={m.key} />));\n\n    return (\n      <List\n        dense\n        component=\"div\"\n        style={{ paddingLeft: folders.length * 16 }}\n      >\n        {foldersItem}\n        {modulesItem}\n      </List>\n    )\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n      subModules: getSubModules(state.modules, props.folders),\n      subFolders: getSubFolders(state.modules, props.folders),\n  }\n}\n\nconst ModuleFolder = connect(mapStateToProps)(ModuleFolderCompoment)\n\nexport default ModuleFolder;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport isEqual from 'lodash/isEqual';\n\nimport Collapse from '@material-ui/core/Collapse';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport FolderIcon from \"@material-ui/icons/Folder\";\nimport ExpandLess from '@material-ui/icons/ExpandLess';\nimport ExpandMore from '@material-ui/icons/ExpandMore';\nimport SaveAlt from '@material-ui/icons/SaveAlt'\n\nimport ModuleFolder from './tree/Folder'\nimport { startDownloadFolder } from '../actions'\n\nconst styles = theme => ({\n  search_result: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    marginLeft: theme.spacing.unit * 8,\n    marginRight: theme.spacing.unit * 8,\n  },\n  progress: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    zIndex: 1,\n  },\n})\n\nclass Folder extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      open: false,\n    };\n  }\n\n  toogleOpen = () => {\n    this.setState(state => ({ open: !state.open }));\n  }\n\n  render() {\n    const { classes,  downloadLoading, folders, dispatch } = this.props;\n\n    return (\n      <div>\n      <ListItem\n\n        divider\n        button\n        onClick={this.toogleOpen}\n        >\n        <ListItemIcon>\n          <FolderIcon />\n        </ListItemIcon>\n        <ListItemText inset primary={folders[folders.length-1]} />\n\n        <IconButton\n          disabled={downloadLoading}\n          onClick={(e) => {\n            e.stopPropagation();\n            dispatch(startDownloadFolder(folders))\n          }}\n        >\n          <SaveAlt />\n          {downloadLoading && <CircularProgress size={50} className={classes.progress} />}\n        </IconButton>\n        {this.state.open ? <ExpandLess /> : <ExpandMore />}\n      </ListItem>\n      <Collapse in={this.state.open} timeout=\"auto\" unmountOnExit>\n          <ModuleFolder folders={folders} />\n      </Collapse>\n      </div>\n    );\n\n  }\n}\n\nclass ModuleTree extends React.Component {\n  render() {\n    const { classes, modules } = this.props;\n\n    if (!Array.isArray(modules)) {\n      return (\n        <Paper className={classes.search_result} elevation={1}>\n          <Typography variant=\"h5\">No modules.</Typography>\n        </Paper>\n      )\n    }\n\n    return (\n      <Paper className={classes.search_result} elevation={1}>\n        <ModuleFolder folders={[]}></ModuleFolder>\n      </Paper>\n    )\n  }\n}\n\nModuleTree.propTypes = {\n  modules: PropTypes.arrayOf(\n    PropTypes.shape({\n      file_path: PropTypes.string.isRequired,\n      key: PropTypes.string.isRequired,\n      folders: PropTypes.array.isRequired,\n      filename: PropTypes.string.isRequired,\n      code: PropTypes.string,\n      extends: PropTypes.string,\n      urn: PropTypes.string,\n      child_urn: PropTypes.array,\n      child_code: PropTypes.array,\n    }).isRequired\n  ).isRequired,\n  classes: PropTypes.object.isRequired,\n  // clickHandler: PropTypes.func,\n  // layer: PropTypes.number.isRequired,\n};\n\nModuleTree = withStyles(styles)(ModuleTree)\nFolder = withStyles(styles)(connect(\n  (state, props) => {\n\n    if (state.currentDownloadStatus.hasOwnProperty('folders')) {\n      if (Array.isArray(state.currentDownloadStatus.folders)) {\n        if (isEqual(state.currentDownloadStatus.folders.join('/'), props.folders.join('/'))) {\n          return { downloadLoading: true}\n        }\n      }\n    }\n\n    return { downloadLoading: false }\n  }\n)(Folder))\n\nexport {\n  ModuleTree,\n  Folder,\n}\n","import { connect } from 'react-redux';\nimport { ModuleTree } from '../components/ModuleTree.js';\n\n\n\nconst mapStateToProps = state => {\n    return {\n        modules: state.modules,\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {};\n}\n\nconst FilteredModuleTree = connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(ModuleTree)\n\nexport default FilteredModuleTree;\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\n\nexport default function Stu3Flag() {\n  const dispatch = useDispatch()\n  const flag = useSelector(state => state.settings.stu3Flag)\n  return (\n    <FormControlLabel\n    control={\n      <Checkbox\n        checked={flag}\n        onChange={(e) => dispatch({type: 'UPDATE_SETTING', settings: { stu3Flag: e.target.checked}})}\n        value=\"stu3_flag\"\n        color=\"primary\"\n      />\n    }\n    label=\"STU3 loader\"\n  />\n  )\n};\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { setQueryFilter } from '../actions'\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport SearchIcon from '@material-ui/icons/Search';\n\nimport Stu3Flag from './Stu3Flag'\n\nconst styles = theme => ({\n  search_box: {\n    marginTop: theme.spacing.unit * 4,\n    marginBottom: theme.spacing.unit * 4,\n    width: \"100%\"\n  },\n})\n\n\nconst SearchBox = ({ dispatch, classes }) => {\n\n  return (\n    <FormControl className={classes.search_box} >\n      <Input\n      id=\"search-input\"\n      startAdornment={\n        <InputAdornment position=\"start\">\n          <SearchIcon />\n        </InputAdornment>\n      }\n      onChange={e => {\n        e.preventDefault();\n\n        dispatch(setQueryFilter(e.target.value));\n      }}\n\n      />\n      <Stu3Flag />\n    </FormControl>\n  );\n};\n\nexport default withStyles(styles)(connect()(SearchBox));\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { cleanError } from '../actions';\n\nimport Button from '@material-ui/core/Button';\nimport Dialog from '@material-ui/core/Dialog';\nimport Typography from '@material-ui/core/Typography';\nimport Divider from '@material-ui/core/Divider';\n\nconst styles = theme => ({\n  dialogContent: {\n    padding: theme.spacing.unit * 2,\n  },\n})\n\nclass ErrorDialog extends React.Component {\n  state = {\n    open: false,\n  };\n\n  handleClose = () => {\n    const { dispatch } = this.props\n    dispatch(cleanError())\n  };\n\n  errorHeaderMessage = () => {\n    const { error } = this.props\n    if (error == null ) { return (<div>No error to display.</div>)}\n    const [ source, type ] = error.type.split('.')\n    console.log(\"CANI CANI CANI\", error, source, type)\n\n    switch (source) {\n        case \"folder_request\":\n            return (\n                <Typography variant=\"body1\">\n                La generazione della cartella <em>{error.request}</em> è fallita\n                </Typography>)\n        case \"module_request\":\n            return (\n                <Typography variant=\"body1\">\n                La generazione del modulo <em>{error.request}</em> è fallita\n                </Typography>)\n        default:\n          return\n    }\n  }\n\n  errorContentMessage = () => {\n    const { error } = this.props\n    if (error == null ) { return (<div>No error to display.</div>)}\n    const [ source, type ] = error.type.split('.')\n    console.log(\"CANI CANI CANI\", error, source, type)\n\n    switch (type) {\n        case \"key_error\":\n            return (\n                <Typography variant=\"body1\">\n                Non è stato trovato un modulo con questo URN: <em>{error.missing_key}</em>\n                </Typography>)\n        case \"template_not_found\":\n            return (\n                <div>\n                <Typography variant=\"body1\">\n                Non sono stati trovati template con questi nomi:\n                </Typography>\n\n                <ul>\n                    {error.missing_templates.map(t => (<li>{t}</li>))}\n                </ul>\n\n                <Typography variant=\"body1\">\n                In genere sono nella prozione <em>extends</em> del modulo.\n                </Typography>\n                </div>)\n        default:\n          return\n    }\n\n  }\n\n  render() {\n    const { error, classes } = this.props\n\n    return (\n      <div>\n        <Dialog\n          onClose={this.handleClose}\n          aria-labelledby=\"error-dialog\"\n          open={error != null}\n\n        >\n            <Typography variant=\"h4\" className={classes.dialogContent}>La generazione del modulo è fallita</Typography>\n            <Divider variant=\"middle\" />\n            <div className={classes.dialogContent}>\n            {this.errorHeaderMessage()}\n            {this.errorContentMessage()}\n            </div>\n            <Typography variant=\"body1\">\n            </Typography>\n            <Divider variant=\"middle\" />\n            <pre fontFamily=\"Monospace\" m={1} className={classes.dialogContent}>\n                {error && error.stacktrace.join('\\n')}\n            </pre>\n\n            <Divider variant=\"middle\" />\n            <Button onClick={this.handleClose} color=\"primary\">\n              Close\n            </Button>\n\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n    if (state.currentDownloadStatus.lastError !== null) {\n        return {\n            error: state.currentDownloadStatus.lastError\n        }\n    }\n\n    return { error: null }\n}\n\nexport default connect(mapStateToProps)(withStyles(styles)(ErrorDialog));\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport { withStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\n\nimport FilteredModuleList from './containers/FilteredModuleList'\nimport FilteredModuleTree from './containers/FilteredModuleTree'\nimport SearchBox from './containers/SearchBox'\nimport ErrorDialog from './components/ErrorDialog'\n\nimport { getModules } from './actions'\nimport './App.css';\n\nconst styles = theme => ({\n  root: {\n    flexGrow: 1,\n    backgroundColor: theme.palette.background.paper\n  },\n  search_box: {\n    marginTop: theme.spacing.unit * 4,\n    marginBottom: theme.spacing.unit * 4,\n    width: \"100%\"\n  },\n  search_result: {\n    ...theme.mixins.gutters(),\n    paddingTop: theme.spacing.unit * 2,\n    paddingBottom: theme.spacing.unit * 2,\n    marginLeft: theme.spacing.unit * 8,\n    marginRight: theme.spacing.unit * 8,\n  },\n  module_box: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  noMaxWidth: {\n    maxWidth: 'none',\n  },\n})\n\n\nclass SearchGrid extends React.Component {\n  state = {\n    query: '',\n    queryFilter: 'file_path',\n\n    // Current target.\n    openModule: false,\n    moduleTarget: null,\n  };\n\n  componentDidMount = () => this.props.onLoad()\n\n  render() {\n    const { classes, query } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" spacing={16}\n        className={classes.search_box}>\n          <Grid item xs={8}>\n            <SearchBox />\n          </Grid>\n        </Grid>\n        {query ? <FilteredModuleList /> : <FilteredModuleTree />}\n        <ErrorDialog />\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n    query: state.queryFilter,\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        onLoad: () => {\n            dispatch(getModules())\n        }\n    };\n}\n\nSearchGrid.propTypes = {\n  classes: PropTypes.object.isRequired,\n};\n\nexport default withStyles(styles)(connect(mapStateToProps, mapDispatchToProps)(SearchGrid));\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import { takeLatest, take, put, all, call, delay } from 'redux-saga/effects';\nimport request from 'superagent'\nimport {\n  CHANGED_QUERY_FILTER,\n  MODULE_DATA_REQUEST,\n  MODULE_DATA_RECEIVED,\n  MODULE_DATA_ERROR,\n  SET_QUERY_FILTER,\n} from '../actions';\n\n\nexport function* setQueryFilter(action) {\n  yield call(delay, 500);\n  action.type = SET_QUERY_FILTER;\n  yield put(action);\n}\n\nexport function* whatchSearchFilter() {\n  yield takeLatest(CHANGED_QUERY_FILTER, setQueryFilter);\n}\n\nfunction getModules() {\n  return request.get('/module').then(res => res.body)\n}\n\nexport function* fetchModules(dispatch) {\n  while (true) {\n    yield take(MODULE_DATA_REQUEST)\n\n    try {\n      const modules = yield call(getModules)\n\n      if (!modules) {\n        yield put({ type: MODULE_DATA_ERROR })\n        continue\n      }\n\n      modules.map(m => {\n        if (Array.isArray(m['folders'])) {\n          m['folders_search'] = m['folders'].join('/');\n        }\n\n\n        return m;\n      });\n\n      yield put({ type: MODULE_DATA_RECEIVED, modules })\n    } catch (err) {\n      yield put({ type: MODULE_DATA_ERROR })\n    }\n  }\n}\n\nexport function* prepareFolder() {\n  while(true) {\n    const { folders } = yield take('PREPARE_FOLDER_REQUEST')\n    try {\n      const response = yield call(\n        () => request.get(`/folder/${folders.join('-')}/download`).then(res => res.body)\n      )\n\n      if (response.hasOwnProperty('error')) {\n        yield put({\n          type: 'PREPARE_FOLDER_ERROR',\n          error: response.error\n        })\n\n      } else {\n        yield put({\n          type: 'PREPARE_FOLDER_RECEIVED',\n          response\n        })\n\n        window.location.href = `/download/${response.uuid}`;\n      }\n    } catch (error) {\n      yield put({\n        type: 'PREPARE_FOLDER_REQUEST_ERROR',\n        error\n      })\n    }\n  }\n}\n\n\nexport function* prepareModule() {\n  while(true) {\n    const { module_key } = yield take('PREPARE_MODULE_REQUEST')\n    try {\n      const response = yield call(\n        () => request.get(`/module/${module_key}/download`).then(res => res.body)\n      )\n\n      if (response.hasOwnProperty('error')) {\n        yield put({\n          type: 'PREPARE_MODULE_ERROR',\n          error: response.error\n        })\n\n      } else {\n        yield put({\n          type: 'PREPARE_MODULE_RECEIVED',\n          response\n        })\n\n        window.location.href = `/download/${response.uuid}`;\n      }\n    } catch (error) {\n\n      yield put({\n        type: 'PREPARE_MODULE_REQUEST_ERROR',\n        error\n      })\n    }\n  }\n}\n\nexport function* prepareModulePDF() {\n  while(true) {\n    const { module_key } = yield take('PREPARE_PDF_REQUEST')\n    try {\n      const response = yield call(\n          () => request.get(`/module/${module_key}/pdf`).then(res => res.body)\n      )\n\n      if (response.hasOwnProperty('error')) {\n        yield put({\n          type: 'PREPARE_PDF_REQUEST_ERROR',\n          error: response.error\n        })\n\n      } else {\n        yield put({\n          type: 'PREPARE_PDF_RECEIVED',\n          response\n        })\n\n        window.location.href = `/download-pdf/${response.uuid}`;\n      }\n    } catch (error) {\n\n      yield put({\n        type: 'PREPARE_PDF_REQUEST_ERROR',\n        error\n      })\n    }\n  }\n}\n\nexport function* listenEdit() {\n  while (true) {\n    const { module_key } = yield take('EDIT_MODULE_REQUEST')\n    yield call(\n      () => request.get(`/module/${module_key}/edit`).then(res => res.body)\n    )\n  }\n}\n\n\nexport default function* rootSaga() {\n  yield all([\n    prepareFolder(),\n    prepareModule(),\n    prepareModulePDF(),\n    whatchSearchFilter(),\n    fetchModules(),\n    listenEdit(),\n  ])\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport createSagaMiddleware from 'redux-saga'\nimport validatorApp from './reducers';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport rootSaga from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware()\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nconst store = createStore(\n    validatorApp,\n    composeEnhancers(\n        applyMiddleware(sagaMiddleware),\n    )\n);\nsagaMiddleware.run(rootSaga)\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}