{% extends "auth/base.html" %}

{% block main %}
  <main>
    <div class="relative flex">
      <div class="w-full">
        <div class="min-h-screen h-full flex flex flex-col after:flex-1">
          <div class="flex-1">
            <div class="flex items-center justify-between h-16 py-2 px-4 sm:px-6 lg:px-8">
              {% if tenant.logo_url %}
                <img src="{{ tenant.logo_url }}" alt="{{ tenant.name }}" class="max-h-full max-w-[100px]" />
              {% else %}
                <span class="text-3xl text-accent font-bold">{{ tenant.name }}</span>
              {% endif %}
            </div>
          </div>

          <div class="w-full max-w-sm mx-auto px-4 py-8">
            <h1 class="text-3xl text-accent font-bold mb-6">{% block title %}{% endblock %}</h1>
            {% if error is defined %}
              <div class="my-4 px-4 py-2 rounded-sm text-sm bg-red-100 border border-red-200 text-red-600">
                <div class="flex w-full justify-between items-start">
                  <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
                    </svg>
                    <div>{{error}}</div>
                  </div>
                </div>
              </div>
            {% endif %}
            {% if success is defined %}
              <div class="my-4 px-4 py-2 rounded-sm text-sm bg-emerald-100 border border-emerald-200 text-emerald-600">
                <div class="flex w-full justify-between items-start">
                  <div class="flex">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3" viewBox="0 0 20 20">
                      <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                    </svg>
                    <div>{{success}}</div>
                  </div>
                </div>
              </div>
            {% endif %}
            {% if not fatal_error %}
              {% block auth_form %}
              {% endblock %}
            {% endif %}
            <div class="pt-5 mt-6 border-t border-light">
              <div class="text-xs flex justify-center items-center">
                <span class="mr-1 mt-1">{% trans %}Powered and secured by{% endtrans %}</span>
                <a href="https://www.fief.dev" rel="noreferrer noopener" target="_blank">
                  <svg clip-rule="evenodd" fill-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="2" viewBox="0 0 133 63" xmlns="http://www.w3.org/2000/svg" style="height: 1rem;"><g fill="currentColor" fill-rule="nonzero"><path d="m.047 0v-.727h.511v.159h-.314v.125h.283v.159h-.283v.284z" transform="matrix(71.99976445 0 0 72 -3.37627465 61.8422)"/><path d="m.05-.545h.196v.545h-.196z" transform="matrix(71.99976445 0 0 72 38.6581753 61.8422)"/><path d="m.311.01c-.058 0-.108-.011-.15-.034-.042-.022-.075-.054-.097-.096-.023-.042-.034-.093-.034-.151 0-.057.011-.106.034-.148s.055-.075.096-.098c.042-.024.09-.036.147-.036.041 0 .078.007.112.02.033.012.062.031.085.055.024.024.042.054.055.088.013.035.019.074.019.117v.046h-.487v-.108h.307c-.001-.016-.004-.03-.012-.042s-.018-.021-.031-.028c-.013-.006-.028-.01-.044-.01s-.03.004-.044.01c-.013.007-.023.016-.031.028s-.013.026-.013.042v.116c0 .018.004.033.011.047s.018.025.032.032c.013.008.03.012.049.012.014 0 .026-.002.037-.006.012-.003.021-.009.029-.016s.014-.016.018-.026h.179c-.006.038-.021.071-.044.098-.023.028-.053.05-.091.065-.037.015-.081.023-.132.023z" transform="matrix(71.99976445 0 0 72 59.93085955 61.8422)"/><path d="m.376-.545v.142h-.365v-.142zm-.295.545v-.561c0-.045.008-.082.024-.112s.039-.052.068-.066c.03-.015.064-.022.104-.022.025 0 .049.002.073.005.023.004.041.007.052.01l-.028.141c-.008-.002-.016-.004-.025-.005-.01-.002-.018-.002-.025-.002-.019 0-.031.004-.037.012-.007.007-.01.018-.01.03v.57z" transform="matrix(71.99976445 0 0 72 103.7026664 61.8422)"/><path d="m368 32h-56c-8.777 0-16 7.223-16 16v48h-48v-48c0-8.777-7.223-16-16-16h-80c-8.777 0-16 7.223-16 16v48h-47.9v-48c0-8.777-7.223-16-16-16h-56.1c-8.777 0-16 7.223-16 16v176l64 32c0 48.33-1.54 95-13.21 160h282.42c-11.67-65-13.21-112.28-13.21-160l64-32v-176c0-8.777-7.223-16-16-16zm-144 288h-64v-64c0-17.555 14.445-32 32-32s32 14.445 32 32z" transform="matrix(.0493687 0 0 .0493687 39.816 -1.58)"/></g></svg>
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
{% endblock %}
