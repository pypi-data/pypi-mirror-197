"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_issueDetails_groupReplays_index_tsx"],{"./app/utils/useCleanQueryParamsOnRouteLeave.tsx":(e,t,s)=>{s.d(t,{Z:()=>n,j:()=>i});var a=s("../node_modules/react/index.js"),o=s("../node_modules/react-router/es/index.js"),r=s("./app/utils/useLocation.tsx");function i(e){let{fieldsToClean:t,newLocation:s,oldPathname:a}=e;const r=t.some((e=>void 0!==s.query[e]));if(s.pathname===a||!r)return;const i=t.reduce(((e,t)=>(e[t]=void 0,e)),{...s.query});o.browserHistory.replace({pathname:s.pathname,query:i})}const n=function(e){let{fieldsToClean:t}=e;const s=(0,r.T)(),n=(0,a.useCallback)((e=>{i({fieldsToClean:t,newLocation:e,oldPathname:s.pathname})}),[s.pathname,t]);(0,a.useEffect)((()=>o.browserHistory.listen(n)),[n])}},"./app/views/issueDetails/groupReplays/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var a=s("./app/components/acl/feature.tsx"),o=s("./app/components/alert.tsx"),r=s("./app/components/layouts/thirds.tsx"),i=s("./app/locale.tsx"),n=s("./app/utils/useOrganization.tsx"),l=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=s("../node_modules/react/index.js"),p=s("../node_modules/@emotion/react/dist/emotion-element-6a883da9.browser.esm.js"),d=s("./app/utils/replays/hooks/useReplayList.tsx"),c=s("./app/utils/useLocation.tsx"),y=s("./app/utils/useMedia.tsx"),m=s("../node_modules/@sentry/core/esm/exports.js"),h=s("./app/utils/discover/eventView.tsx"),g=s("./app/utils/queryString.tsx"),x=s("./app/utils/replays/fetchReplayList.tsx"),b=s("./app/utils/useApi.tsx"),v=s("./app/utils/useCleanQueryParamsOnRouteLeave.tsx"),w=s("./app/views/replays/types.tsx");var f=s("./app/views/replays/replayTable/index.tsx"),Z=s("./app/views/replays/replayTable/types.tsx"),j=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function k(e){let{group:t}=e;const s=(0,p.u)(),a=(0,y.Z)(`(min-width: ${s.breakpoints.small})`),o=(0,n.Z)(),r=(0,c.T)(),{eventView:i,fetchError:l,pageLinks:d}=function(e){let{group:t,location:s,organization:a}=e;const o=(0,b.Z)(),[r,i]=(0,u.useState)(),[n,l]=(0,u.useState)(),p=(0,u.useCallback)((async()=>{try{const e=await o.requestPromise(`/organizations/${a.slug}/replay-count/`,{query:{returnIds:!0,query:`issue.id:[${t.id}]`,statsPeriod:"14d",project:t.project.id}});i(e[t.id]||[])}catch(e){m.Tb(e),l(e)}}),[o,a.slug,t.id,t.project.id]),d=(0,u.useMemo)((()=>r?h.ZP.fromSavedQuery({id:"",name:"",version:2,fields:w.p,projects:[Number(t.project.id)],query:`id:[${String(r)}]`,range:"14d",orderby:(0,g.ro)(s.query.sort,x.y)}):null),[s.query.sort,t.project.id,r]);return(0,v.Z)({fieldsToClean:["cursor"]}),(0,u.useEffect)((()=>{p()}),[p]),{eventView:d,fetchError:n,pageLinks:null}}({group:t,location:r,organization:o});return i?(0,j.tZ)(T,{eventView:i,organization:o,pageLinks:d}):(0,j.tZ)(C,{withPadding:!0,children:(0,j.tZ)(f.Z,{fetchError:l,isFetching:!0,replays:[],sort:void 0,visibleColumns:[Z.M.session,...a?[Z.M.startedAt]:[],Z.M.duration,Z.M.countErrors,Z.M.activity]})})}k.displayName="GroupReplays";const T=e=>{let{eventView:t,organization:s}=e;const a=(0,u.useMemo)((()=>({query:{}})),[]),o=(0,p.u)(),r=(0,y.Z)(`(min-width: ${o.breakpoints.small})`),{replays:i,isFetching:n,fetchError:l}=(0,d.Z)({eventView:t,location:a,organization:s});return(0,j.tZ)(C,{withPadding:!0,children:(0,j.tZ)(f.Z,{fetchError:l,isFetching:n,replays:i,sort:void 0,visibleColumns:[Z.M.session,...r?[Z.M.startedAt]:[],Z.M.duration,Z.M.countErrors,Z.M.activity]})})};T.displayName="GroupReplaysTable";const C=(0,l.Z)(r.T3,{target:"e1ekyz00"})("box-shadow:0px 0px 1px ",(e=>e.theme.gray200),";background-color:",(e=>e.theme.background),";"),M=k;function _(){return(0,j.tZ)(r.T3,{withPadding:!0,children:(0,j.tZ)(o.bZ,{type:"warning",children:(0,i.t)("You don't have access to this feature")})})}_.displayName="renderNoAccess";const q=e=>{const t=(0,n.Z)();return(0,j.tZ)(a.Z,{features:["session-replay"],organization:t,renderDisabled:_,children:(0,j.tZ)(M,{...e})})};q.displayName="GroupReplaysContainer";const L=q}}]);
//# sourceMappingURL=../sourcemaps/app_views_issueDetails_groupReplays_index_tsx.f4309f0e4dd007b45a2ba4801dff8af3.js.map