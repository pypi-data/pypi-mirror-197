"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectSourceMaps_index_tsx"],{"./app/components/links/listLink.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react-router/es/index.js"),a=s("../node_modules/classnames/index.js"),i=s.n(a),o=s("../node_modules/query-string/index.js"),c=s("./app/utils/useRouter.tsx"),l=s("./app/utils/withDomainRequired.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{children:t,className:s,isActive:r,query:a,to:p,activeClassName:u="active",index:h=!1,disabled:g=!1,...y}=e;const Z=(0,c.Z)(),x=a?o.parse(a):void 0,f="string"==typeof p?{pathname:p,query:x}:p,v=(0,l.D)(f),b=r?.(v,h)??Z.isActive(v,h);return(0,d.tZ)(m,{className:i()({[u]:b},s),disabled:g,children:(0,d.tZ)(n.Link,{...y,onlyActiveOnIndex:h,to:g?"":v,children:t})})}p.displayName="ListLink";const u=p,m=(0,r.Z)("li",{shouldForwardProp:e=>"disabled"!==e,target:"e1n345k60"})((e=>e.disabled&&`\n   a {\n    color:${e.theme.disabled} !important;\n    pointer-events: none;\n    :hover {\n      color: ${e.theme.disabled}  !important;\n    }\n   }\n`),";")},"./app/components/searchBar.tsx":(e,t,s)=>{s.d(t,{Z:()=>y,p:()=>g});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react/index.js"),a=s("./app/components/button.tsx"),i=s("./app/components/inputGroup.tsx"),o=s("./app/icons/index.tsx"),c=s("./app/icons/iconClose.tsx"),l=s("./app/locale.tsx"),d=s("./app/styles/space.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{query:t,defaultQuery:s="",onChange:r,onSearch:a,width:d,size:u,className:y,trailing:Z,...x}=e;const f=(0,n.useRef)(null),[v,b]=(0,n.useState)(t??s);(0,n.useEffect)((()=>{"string"==typeof t&&b(t)}),[t]);const j=(0,n.useCallback)((e=>{const{value:t}=e.target;b(t),r?.(t)}),[r]),w=(0,n.useCallback)((e=>{e.preventDefault(),f.current?.blur(),a?.(v)}),[a,v]),k=(0,n.useCallback)((()=>{b(""),r?.(""),a?.("")}),[r,a]);return(0,p.tZ)(m,{onSubmit:w,className:y,children:(0,p.BX)(i.BZ,{children:[(0,p.tZ)(i.BZ.LeadingItems,{disablePointerEvents:!0,children:(0,p.tZ)(o.jV,{color:"subText",size:"xs"===u?"xs":"sm"})}),(0,p.tZ)(h,{...x,ref:f,type:"text",name:"query",autoComplete:"off",value:v,onChange:j,width:d,size:u}),(0,p.BX)(i.BZ.TrailingItems,{children:[Z,!!v&&(0,p.tZ)(g,{size:"zero",borderless:!0,onClick:k,icon:(0,p.tZ)(c.b,{size:"xs"}),"aria-label":(0,l.t)("Clear")})]})]})})}u.displayName="SearchBar";const m=(0,r.Z)("form",{target:"elu65nr2"})({name:"4bgdod",styles:"display:block;position:relative"}),h=(0,r.Z)(i.BZ.Input,{target:"elu65nr1"})((e=>e.width&&`width: ${e.width};`),";"),g=(0,r.Z)(a.zx,{target:"elu65nr0"})("color:",(e=>e.theme.subText),";padding:",(0,d.D)(.5),";"),y=u},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});const r=function(e,t){let s=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3?arguments[3]:void 0;const n=`${e} - ${t}`,a=r?`${n} - ${r}`:n;return s?`${a} - Sentry`:a}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>i});var r=s("./app/components/asyncComponent.tsx"),n=s("./app/components/sentryDocumentTitle.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class i extends r.Z{getTitle(){return""}render(){return(0,a.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}i.displayName="AsyncView"},"./app/views/settings/projectSourceMaps/index.tsx":(e,t,s)=>{s.r(t),s.d(t,{ProjectSourceMapsContainer:()=>W}),s("../node_modules/core-js/modules/es.array.includes.js");var r=s("./app/utils/useOrganization.tsx"),n=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),o=s("./app/actionCreators/indicator.tsx"),c=s("./app/components/links/externalLink.tsx"),l=s("./app/components/pagination.tsx"),d=s("./app/components/panels/index.tsx"),p=s("./app/components/searchBar.tsx"),u=s("./app/locale.tsx"),m=s("./app/styles/space.tsx"),h=s("./app/utils/queryString.tsx"),g=s("./app/utils/routeTitle.tsx"),y=s("./app/views/asyncView.tsx"),Z=s("./app/views/settings/components/settingsPageHeader.tsx"),x=s("./app/views/settings/components/text/textBlock.tsx"),f=s("./app/components/acl/access.tsx"),v=s("./app/components/button.tsx"),b=s("./app/components/buttonBar.tsx"),j=s("./app/components/confirm.tsx"),w=s("./app/components/count.tsx"),k=s("./app/components/dateTime.tsx"),q=s("./app/components/links/link.tsx"),C=s("./app/components/textOverflow.tsx"),A=s("./app/components/tooltip.tsx"),S=s("./app/components/version.tsx"),D=s("./app/icons/index.tsx"),B=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const _=e=>{let{archive:t,orgId:s,projectId:r,onDelete:n}=e;const{name:a,date:o,fileCount:c}=t,l=`/settings/${s}/projects/${r}/source-maps/${encodeURIComponent(a)}`;return(0,B.BX)(i.Fragment,{children:[(0,B.tZ)(T,{children:(0,B.tZ)(C.Z,{children:(0,B.tZ)(q.Z,{to:l,children:(0,B.tZ)(S.Z,{version:a,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,B.tZ)(N,{children:(0,B.tZ)(w.Z,{value:c})}),(0,B.tZ)(T,{children:(0,u.t)("release")}),(0,B.tZ)(T,{children:(0,B.tZ)(k.Z,{date:o})}),(0,B.tZ)($,{children:(0,B.tZ)(b.ZP,{gap:.5,children:(0,B.tZ)(f.Z,{access:["project:releases"],children:e=>{let{hasAccess:t}=e;return(0,B.tZ)(A.u,{disabled:t,title:(0,u.t)("You do not have permission to delete artifacts."),children:(0,B.tZ)(j.Z,{onConfirm:()=>n(a),message:(0,u.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!t,children:(0,B.tZ)(v.zx,{size:"sm",icon:(0,B.tZ)(D.Fz,{size:"sm"}),title:(0,u.t)("Remove All Artifacts"),"aria-label":(0,u.t)("Remove All Artifacts"),disabled:!t})})})}})})})]})};_.displayName="SourceMapsArchiveRow";const T=(0,a.Z)("div",{target:"e17v78y2"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),N=(0,a.Z)(T,{target:"e17v78y1"})("padding-right:",(0,m.D)(4),";text-align:right;justify-content:flex-end;"),$=(0,a.Z)(T,{target:"e17v78y0"})({name:"1f60if8",styles:"justify-content:flex-end"}),E=_;class z extends y.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleSearch",(e=>{const{location:t,router:s}=this.props;s.push({...t,query:{...t.query,cursor:void 0,query:e}})})),(0,n.Z)(this,"handleDelete",(async e=>{(0,o.E3)((0,u.t)("Removing artifactsâ€¦"));try{await this.api.requestPromise(this.getArchivesUrl(),{method:"DELETE",query:{name:e}}),this.fetchData(),(0,o.S9)((0,u.t)("Artifacts removed."))}catch{(0,o.Iw)((0,u.t)("Unable to remove artifacts. Please try again."))}}))}getTitle(){const{projectId:e}=this.props.params;return(0,g.Z)((0,u.t)("Source Maps"),e,!1)}getDefaultState(){return{...super.getDefaultState(),archives:[]}}getEndpoints(){return[["archives",this.getArchivesUrl(),{query:{query:this.getQuery()}}]]}getArchivesUrl(){const{organization:e,project:t}=this.props;return`/projects/${e.slug}/${t.slug}/files/source-maps/`}getQuery(){const{query:e}=this.props.location.query;return(0,h.ro)(e)}getEmptyMessage(){return this.getQuery()?(0,u.t)("There are no archives that match your search."):(0,u.t)("There are no archives for this project.")}renderLoading(){return this.renderBody()}renderArchives(){const{archives:e}=this.state;if(!e.length)return null;const{organization:t,project:s}=this.props;return e.map((e=>(0,B.tZ)(E,{archive:e,orgId:t.slug,projectId:s.slug,onDelete:this.handleDelete},e.name)))}renderBody(){const{loading:e,archives:t,archivesPageLinks:s}=this.state;return(0,B.BX)(i.Fragment,{children:[(0,B.tZ)(Z.Z,{title:(0,u.t)("Source Maps"),action:(0,B.tZ)(p.Z,{placeholder:(0,u.t)("Filter Archives"),onSearch:this.handleSearch,query:this.getQuery(),width:"280px"})}),(0,B.tZ)(x.Z,{children:(0,u._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,B.tZ)(c.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,B.tZ)(L,{headers:[(0,u.t)("Archive"),(0,B.tZ)(R,{children:(0,u.t)("Artifacts")},"artifacts"),(0,u.t)("Type"),(0,u.t)("Date Created"),""],emptyMessage:this.getEmptyMessage(),isEmpty:0===t.length,isLoading:e,children:this.renderArchives()}),(0,B.tZ)(l.Z,{pageLinks:s})]})}}const L=(0,a.Z)(d.KB,{target:"eg87l5v1"})({name:"1nm83up",styles:"grid-template-columns:minmax(120px, 1fr) max-content minmax(85px, max-content) minmax(265px, max-content) 75px"}),R=(0,a.Z)("div",{target:"eg87l5v0"})("text-align:right;padding-right:",(0,m.D)(1.5),";margin-right:",(0,m.D)(.25),";"),P=z;var I,M=s("./app/components/links/listLink.tsx"),F=s("./app/components/navTabs.tsx"),U=s("./app/utils/queryClient.tsx"),X=s("./app/utils/recreateRoute.tsx"),V=s("./app/utils/useApi.tsx");function Q(e){let{routes:t,params:s,location:n,router:a,project:d}=e;const p=(0,V.Z)(),m=(0,r.Z)(),g=(0,X.Z)("",{routes:t,params:s,stepBack:-1}),y=n.pathname.endsWith("debug-id-bundles/"),b=(0,h.ro)(n.query.query),_=n.query.sort??I.DESC,T=n.query.cursor??"",N=`/projects/${m.slug}/${d.slug}/files/source-maps/`,$=`/projects/${m.slug}/${d.slug}/files/artifact-bundles/`,{data:E,isLoading:z,refetch:L}=(0,U.aM)([N,{query:{query:b,cursor:T,orderby:_}}],(()=>p.requestPromise(N,{query:{query:b,cursor:T,orderby:_},includeAllArgs:!0})),{staleTime:0,keepPreviousData:!0,enabled:!y}),{data:R,isLoading:P,refetch:Q}=(0,U.aM)([$,{query:{query:b,cursor:T,orderby:_}}],(()=>p.requestPromise($,{query:{query:b,cursor:T,orderby:_},includeAllArgs:!0})),{staleTime:0,keepPreviousData:!0,enabled:y}),W=y?R?.[0]??[]:E?.[0]??[],ee=y?R?.[2]?.getResponseHeader("Link")??"":E?.[2]?.getResponseHeader("Link")??"",te=y?P:z,se=y?Q:L,re=(0,i.useCallback)((e=>{a.push({...n,query:{...n.query,cursor:void 0,query:e}})}),[a,n]),ne=(0,i.useCallback)((()=>{a.push({pathname:n.pathname,query:{...n.query,cursor:void 0,sort:_===I.ASC?I.DESC:I.ASC}})}),[n,a,_]),ae=(0,i.useCallback)((async e=>{(0,o.E3)((0,u.t)("Removing artifactsâ€¦"));try{await p.requestPromise(N,{method:"DELETE",query:{name:e}}),se(),(0,o.S9)((0,u.t)("Artifacts removed."))}catch{(0,o.Iw)((0,u.t)("Unable to remove artifacts. Please try again."))}}),[p,N,se]);return(0,B.BX)(i.Fragment,{children:[(0,B.tZ)(Z.Z,{title:(0,u.t)("Source Maps")}),(0,B.tZ)(x.Z,{children:(0,u._N)("These source map archives help Sentry identify where to look when Javascript is minified. By providing this information, you can get better context for your stack traces when debugging. To learn more about source maps, [link: read the docs].",{link:(0,B.tZ)(c.Z,{href:"https://docs.sentry.io/platforms/javascript/sourcemaps/"})})}),(0,B.BX)(F.Z,{underlined:!0,children:[(0,B.tZ)(M.Z,{to:g,index:!0,isActive:()=>!y,children:(0,u.t)("Release Bundles")}),(0,B.tZ)(M.Z,{to:`${g}debug-id-bundles/`,index:!0,isActive:()=>y,children:(0,u.t)("Debug ID Bundles")})]}),(0,B.tZ)(O,{placeholder:(0,u.t)("Search"),onSearch:re,query:b}),(0,B.tZ)(H,{headers:[(0,u.t)("Bundle"),(0,B.tZ)(J,{children:(0,u.t)("Artifacts")},"artifacts"),(0,B.BX)(K,{onClick:ne,children:[(0,u.t)("Date Uploaded"),(0,B.tZ)(A.u,{containerDisplayMode:"inline-flex",title:_===I.DESC?(0,u.t)("Switch to ascending order"):(0,u.t)("Switch to descending order"),children:(0,B.tZ)(D.CC,{direction:_===I.DESC?"down":"up"})})]},"date-uploaded"),""],emptyMessage:b?(0,u._N)("No [tabName] match your search query.",{tabName:y?(0,u.t)("debug ID bundles"):(0,u.t)("release bundles")}):(0,u._N)("No [tabName] found for this project.",{tabName:y?(0,u.t)("debug ID bundles"):(0,u.t)("release bundles")}),isEmpty:0===W.length,isLoading:te,children:W.map((e=>{let{name:t,date:s,fileCount:r}=e;return(0,B.BX)(i.Fragment,{children:[(0,B.tZ)(Y,{children:(0,B.tZ)(C.Z,{children:(0,B.tZ)(q.Z,{to:`/settings/${m.slug}/projects/${d.slug}/source-maps/${encodeURIComponent(t)}`,children:(0,B.tZ)(S.Z,{version:t,anchor:!1,tooltipRawVersion:!0,truncate:!0})})})}),(0,B.tZ)(J,{children:(0,B.tZ)(w.Z,{value:r})}),(0,B.tZ)(Y,{children:(0,B.tZ)(k.Z,{date:s,timeZone:!0})}),(0,B.tZ)(G,{children:(0,B.tZ)(f.Z,{access:["project:releases"],children:e=>{let{hasAccess:s}=e;return(0,B.tZ)(A.u,{disabled:s,title:(0,u.t)("You do not have permission to delete artifacts."),children:(0,B.tZ)(j.Z,{onConfirm:()=>ae(t),message:(0,u.t)("Are you sure you want to remove all artifacts in this archive?"),disabled:!s,children:(0,B.tZ)(v.zx,{size:"sm",icon:(0,B.tZ)(D.Fz,{size:"sm"}),title:(0,u.t)("Remove All Artifacts"),"aria-label":(0,u.t)("Remove All Artifacts"),disabled:!s})})})}})})]},t)}))}),(0,B.tZ)(l.Z,{pageLinks:ee})]})}!function(e){e.ASC="date_added",e.DESC="-date_added"}(I||(I={})),Q.displayName="ProjectSourceMaps";const H=(0,a.Z)(d.KB,{target:"ew1hyjf5"})({name:"ypdka3",styles:"grid-template-columns:minmax(120px, 1fr) minmax(120px, max-content) minmax(242px, max-content) minmax(74px, max-content);>*{:nth-child(-n + 4){:nth-child(4n-1){cursor:pointer;}}}"}),O=(0,a.Z)(p.Z,{target:"ew1hyjf4"})("margin-bottom:",(0,m.D)(3),";"),J=(0,a.Z)("div",{target:"ew1hyjf3"})({name:"e8bs7r",styles:"text-align:right;justify-content:flex-end"}),K=(0,a.Z)("div",{target:"ew1hyjf2"})("display:flex;align-items:center;gap:",(0,m.D)(.5),";"),Y=(0,a.Z)("div",{target:"ew1hyjf1"})({name:"1kghokd",styles:"display:flex;align-items:center;overflow:hidden"}),G=(0,a.Z)(Y,{target:"ew1hyjf0"})({name:"1f60if8",styles:"justify-content:flex-end"});function W(e){const t=(0,r.Z)();return t.features.includes("source-maps-debug-ids")?(0,B.tZ)(Q,{...e}):(0,B.tZ)(P,{...e,organization:t})}W.displayName="ProjectSourceMapsContainer"}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectSourceMaps_index_tsx.3bb412ef2af59adeba93d9d3262cdd28.js.map