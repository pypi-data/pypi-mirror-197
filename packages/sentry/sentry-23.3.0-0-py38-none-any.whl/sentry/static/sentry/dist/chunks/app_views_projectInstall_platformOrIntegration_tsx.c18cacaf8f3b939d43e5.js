"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_projectInstall_platformOrIntegration_tsx"],{"./app/views/projectInstall/platformOrIntegration.tsx":(t,e,n)=>{n.r(e),n.d(e,{default:()=>ft});var i=n("../node_modules/query-string/index.js"),o=n("./app/utils/integrationUtil.tsx"),r=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=(n("../node_modules/core-js/modules/es.array.push.js"),n("../node_modules/core-js/modules/es.array.includes.js"),n("../node_modules/react/index.js")),s=n("./app/actionCreators/projects.tsx"),l=n("./app/components/acl/feature.tsx"),d=n("./app/components/alert.tsx"),p=n("./app/components/button.tsx"),c=n("./app/components/buttonBar.tsx"),m=n("./app/components/errors/notFound.tsx"),u=n("./app/components/loadingError.tsx"),g=n("./app/components/loadingIndicator.tsx"),h=n("./app/components/onboarding/documentationWrapper.tsx"),f=n("./app/components/onboarding/footer.tsx"),Z=n("./app/components/sentryDocumentTitle.tsx"),x=n("./app/data/platformCategories.tsx"),y=n("./app/data/platforms.tsx"),w=n("./app/icons/index.tsx"),v=n("./app/locale.tsx"),b=n("./app/styles/space.tsx"),j=n("./app/utils/useApi.tsx"),z=n("./app/utils/useOrganization.tsx"),k=n("./app/utils/useProjects.tsx"),I=n("./app/utils/withDomainRequired.tsx"),_=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function D(t){let{location:e,params:n,route:i,router:o}=t;const r=(0,j.Z)(),b=(0,z.Z)(),[D,P]=(0,a.useState)(!0),[$,T]=(0,a.useState)(!1),[F,X]=(0,a.useState)(""),{projects:N,initiallyLoaded:E}=(0,k.Z)({slugs:[n.projectId],orgId:b.slug}),L=!E,A=N.filter((t=>t.slug===n.projectId))[0],q=(0,a.useCallback)((async()=>{P(!0);try{const{html:t}=await(0,s.iC)(r,b.slug,n.projectId,n.platform);X(t)}catch(t){T(t)}P(!1)}),[r,b.slug,n]),M=(0,a.useCallback)((()=>{const t=`/organizations/${b.slug}/projects/${n.projectId}/getting-started/`;o.push((0,I.D)(t))}),[b.slug,n.projectId,o]);(0,a.useEffect)((()=>{q(),window.scrollTo(0,0),n.platform&&"other"!==n.platform||M()}),[q,M,n.platform]);const O=y.Z.find((t=>t.id===n.platform));if(!O)return(0,_.tZ)(m.Z,{});const W=`/organizations/${b.slug}/issues/`,H=`/organizations/${b.slug}/performance/`,V=`/organizations/${b.slug}/projects/${n.projectId}/getting-started/`,K=O.link??void 0,R=x.Sv.includes(O.id),Y=!!b?.features.includes("onboarding-heartbeat-footer"),J=window.location.href.indexOf("getting-started")>0;return(0,_.BX)(a.Fragment,{children:[(0,_.BX)(B,{children:[(0,_.tZ)("h2",{children:(0,v.t)("Configure %(platform)s",{platform:O.name})}),(0,_.BX)(c.ZP,{gap:1,children:[(0,_.tZ)(p.zx,{icon:(0,_.tZ)(w.g6,{direction:"left",size:"sm"}),size:"sm",to:V,children:(0,v.t)("Back")}),(0,_.tZ)(p.zx,{size:"sm",href:K,external:!0,children:(0,v.t)("Full Documentation")})]})]}),(0,_.BX)("div",{children:[(0,_.tZ)(d.bZ,{type:"info",showIcon:!0,children:(0,v._N)("\n           This is a quick getting started guide. For in-depth instructions\n           on integrating Sentry with [platform], view\n           [docLink:our complete documentation].",{platform:O.name,docLink:(0,_.tZ)("a",{href:K})})}),D?(0,_.tZ)(g.Z,{}):$?(0,_.tZ)(u.Z,{onRetry:q}):(0,_.BX)(a.Fragment,{children:[(0,_.tZ)(Z.Z,{title:`${(0,v.t)("Configure")} ${O.name}`,projectSlug:n.projectId}),(0,_.tZ)(h.l,{dangerouslySetInnerHTML:{__html:F}})]}),J&&R&&(0,_.tZ)(l.Z,{features:["performance-view"],hookName:"feature-disabled:performance-new-project",children:t=>{let{hasFeature:e}=t;return e?null:(0,_.tZ)(C,{type:"info",showIcon:!0,children:(0,v.t)("Your selected platform supports performance, but your organization does not have performance enabled.")})}}),J&&Y?(0,_.tZ)(f.$,{projectSlug:n.projectId,projectId:A?.id,route:i,router:o,location:e}):(0,_.BX)(S,{gap:1,children:[(0,_.tZ)(p.zx,{priority:"primary",busy:L,to:{pathname:W,query:A?.id,hash:"#welcome"},children:(0,v.t)("Take me to Issues")}),(0,_.tZ)(p.zx,{busy:L,to:{pathname:H,query:A?.id},children:(0,v.t)("Take me to Performance")})]})]})]})}D.displayName="ProjectInstallPlatform";const S=(0,r.Z)(c.ZP,{target:"e1f5kh8r2"})("margin-top:",(0,b.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,b.D)(1),";grid-auto-flow:row;}"),B=(0,r.Z)("div",{target:"e1f5kh8r1"})("display:flex;justify-content:space-between;margin-bottom:",(0,b.D)(3),";h2{margin:0;}@media (max-width: ",(t=>t.theme.breakpoints.small),"){flex-direction:column;align-items:flex-start;h2{margin-bottom:",(0,b.D)(2),";}}"),C=(0,r.Z)(d.bZ,{target:"e1f5kh8r0"})("margin-top:",(0,b.D)(2),";");var P=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),$=n("../node_modules/react-router/es/index.js"),T=n("./app/components/asyncComponent.tsx"),F=n("./app/utils/analytics/trackAdvancedAnalyticsEvent.tsx"),X=n("./app/utils/withOrganization.tsx"),N=n("./app/views/onboarding/components/integrations/addInstallationInstructions.tsx"),E=n("./app/views/onboarding/components/integrations/postInstallCodeSnippet.tsx"),L=n("./app/views/settings/organizationIntegrations/addIntegrationButton.tsx"),A=n("../node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),q=n("../node_modules/framer-motion/dist/es/render/dom/motion.mjs"),M=n("./app/styles/pulsingIndicator.tsx"),O=n("./app/utils/eventWaiter.tsx"),W=n("./app/utils/testableTransition.tsx");const H=t=>{let{children:e,...n}=t;return(0,_.tZ)(O.Z,{...n,children:t=>{let{firstIssue:i}=t;return e({indicator:(0,_.tZ)(V,{firstIssue:i,...n}),firstEventButton:(0,_.tZ)(p.zx,{title:(0,v.t)("You'll need to send your first error to continue"),tooltipProps:{disabled:!!i},disabled:!i,priority:"primary",onClick:()=>(0,F.Z)("growth.onboarding_take_to_error",{organization:n.organization}),to:`/organizations/${n.organization.slug}/issues/${i&&!0!==i&&"id"in i?`${i.id}/`:""}?referrer=onboarding-first-event-indicator`,children:(0,v.t)("Take me to my error")})})}})};H.displayName="FirstEventIndicator";const V=t=>{let{firstIssue:e}=t;return(0,_.tZ)(K,{children:(0,_.tZ)(A.M,{children:e?(0,_.tZ)(J,{},"received"):(0,_.tZ)(Y,{},"waiting")})})};V.displayName="Indicator";const K=(0,r.Z)("div",{target:"e10tfv734"})({name:"qu0prw",styles:"display:grid;grid-template-columns:1fr;justify-content:right"}),R=(0,r.Z)(q.E.div,{target:"e10tfv733"})("display:grid;grid-template-columns:1fr max-content;gap:",(0,b.D)(1),";align-items:center;font-size:",(t=>t.theme.fontSizeMedium),";grid-column:1;grid-row:1;");R.defaultProps={initial:"initial",animate:"animate",exit:"exit",variants:{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,transition:(0,W.Z)({when:"beforeChildren",staggerChildren:.35})},exit:{opacity:0,y:10}}};const Y=t=>(0,_.BX)(R,{...t,children:[(0,_.tZ)(G,{children:(0,v.t)("Waiting to receive first event to continue")}),(0,_.tZ)(Q,{})]});Y.displayName="Waiting";const J=t=>(0,_.BX)(R,{...t,children:[(0,_.tZ)(G,{children:(0,v.t)("Event was received!")}),(0,_.tZ)(tt,{})]});J.displayName="Success";const U={initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:10}},G=(0,r.Z)(q.E.div,{target:"e10tfv732"})("");G.defaultProps={variants:U,transition:(0,W.Z)()};const Q=(0,r.Z)(q.E.div,{target:"e10tfv731"})("margin:0 6px;",M.Z,";");Q.defaultProps={variants:U,transition:(0,W.Z)()};const tt=(0,r.Z)(w.DL,{target:"e10tfv730"})("color:#fff;background:",(t=>t.theme.green300),";border-radius:50%;padding:3px;margin:0 ",(0,b.D)(.25),";");tt.defaultProps={size:"sm"};const et=H;var nt=n("./app/views/onboarding/createSampleEventButton.tsx");function it(t){let{organization:e,project:n,docsLink:i,docsOnClick:o}=t;return(0,_.BX)(a.Fragment,{children:[(0,_.tZ)(et,{organization:e,project:n,eventType:"error",children:t=>{let{indicator:e,firstEventButton:n}=t;return(0,_.BX)(ot,{children:[(0,_.BX)(at,{gap:2,children:[n,(0,_.tZ)(p.zx,{external:!0,href:i,onClick:o,children:(0,v.t)("View full documentation")})]}),e]})}}),(0,_.tZ)(rt,{children:(0,v._N)("Just want to poke around before getting too cozy with the SDK? [sample:View a sample event for this SDK] or [skip:finish setup later].",{sample:(0,_.tZ)(nt.Z,{"aria-label":"View a sample event",project:n,source:"onboarding",priority:"link"}),skip:(0,_.tZ)(p.zx,{priority:"link",href:"/","aria-label":(0,v.t)("Finish setup later")})})})]})}it.displayName="FirstEventFooter";const ot=(0,r.Z)("div",{target:"eehhgoe2"})("display:flex;justify-content:space-between;margin:",(0,b.D)(2)," 0;margin-top:",(0,b.D)(4),";"),rt=(0,r.Z)("p",{target:"eehhgoe1"})("color:",(t=>t.theme.subText),";font-size:",(t=>t.theme.fontSizeMedium),";margin:0;max-width:500px;"),at=(0,r.Z)(c.ZP,{target:"eehhgoe0"})({name:"14dyr8n",styles:"display:inline-grid;justify-self:start"});function st(t){let{gettingStartedLink:e,docsLink:n}=t;return(0,_.BX)(c.ZP,{gap:1,children:[(0,_.tZ)(p.zx,{size:"sm",icon:(0,_.tZ)(w.g6,{size:"xs",direction:"left"}),to:e,children:(0,v.t)("Back")}),(0,_.tZ)(p.zx,{size:"sm",href:n,external:!0,children:(0,v.t)("Full Documentation")})]})}st.displayName="PlatformHeaderButtonBar";class lt extends T.Z{constructor(){super(...arguments),(0,P.Z)(this,"handleFullDocsClick",(()=>{const{organization:t}=this.props;(0,F.Z)("growth.onboarding_view_full_docs",{organization:t})})),(0,P.Z)(this,"handleAddIntegration",(()=>{this.setState({installed:!0})})),(0,P.Z)(this,"trackSwitchToManual",(()=>{const{organization:t,integrationSlug:e}=this.props;(0,o.Db)("integrations.switch_manual_sdk_setup",{integration_type:"first_party",integration:e,view:"project_creation",organization:t})}))}getDefaultState(){return{...super.getDefaultState(),installed:!1,integrations:{providers:[]},project:null}}componentDidMount(){window.scrollTo(0,0);const{platform:t}=this.props.params;t&&"other"!==t||this.redirectToNeutralDocs()}get provider(){const{providers:t}=this.state.integrations;return t.length?t[0]:null}getEndpoints(){const{organization:t,integrationSlug:e,params:n}=this.props;return e?[["integrations",`/organizations/${t.slug}/config/integrations/?provider_key=${e}`],["project",`/projects/${t.slug}/${n.projectId}/`]]:[]}redirectToNeutralDocs(){const{organization:t}=this.props,{projectId:e}=this.props.params,n=`/organizations/${t.slug}/projects/${e}/getting-started/`;$.browserHistory.push((0,I.D)(n))}render(){const{organization:t,params:e}=this.props,{installed:n,project:i}=this.state,{projectId:o,platform:r}=e,s=this.provider,l=y.Z.find((t=>t.id===r));if(!s||!l||!i)return null;const d=`/organizations/${t.slug}/projects/${o}/getting-started/`,c="https://docs.sentry.io/product/integrations/cloud-monitoring/aws-lambda/";return(0,_.tZ)(ct,{children:(0,_.BX)(pt,{children:[(0,_.tZ)(ut,{children:(0,v.t)("Automatically instrument %s",l.name)}),(0,_.tZ)(mt,{children:(0,_.tZ)(st,{gettingStartedLink:d,docsLink:c})}),n?(0,_.BX)(a.Fragment,{children:[(0,_.tZ)(E.Z,{provider:s}),(0,_.tZ)(it,{project:i,organization:t,docsLink:c,docsOnClick:this.handleFullDocsClick})]}):(0,_.BX)(a.Fragment,{children:[(0,_.tZ)(N.Z,{}),(0,_.BX)(dt,{gap:1,children:[(0,_.tZ)(L.w,{provider:s,onAddIntegration:this.handleAddIntegration,organization:t,priority:"primary",size:"sm",analyticsParams:{view:"project_creation",already_installed:!1},modalParams:{projectId:i.id},"aria-label":(0,v.t)("Add integration")}),(0,_.tZ)(p.zx,{size:"sm",to:{pathname:window.location.pathname,query:{manual:"1"}},onClick:this.trackSwitchToManual,children:(0,v.t)("Manual Setup")})]})]})]})})}}lt.displayName="PlatformIntegrationSetup";const dt=(0,r.Z)(c.ZP,{target:"e1o04xl64"})("margin-top:",(0,b.D)(3),";width:max-content;@media (max-width: ",(t=>t.theme.breakpoints.small),"){width:auto;grid-row-gap:",(0,b.D)(1),";grid-auto-flow:row;}"),pt=(0,r.Z)("div",{target:"e1o04xl63"})({name:"1ki15kq",styles:"max-width:850px"}),ct=(0,r.Z)("div",{target:"e1o04xl62"})({name:"10ebfcx",styles:"display:flex;flex-direction:column;align-items:center;margin-top:50px"}),mt=(0,r.Z)("div",{target:"e1o04xl61"})("width:min-content;margin-bottom:",(0,b.D)(3),";"),ut=(0,r.Z)("h2",{target:"e1o04xl60"})("margin:0;margin-bottom:",(0,b.D)(2),";"),gt=(0,X.Z)(lt),ht=t=>{const e=i.parse(window.location.search),{platform:n}=t.params,r=n&&o.C$[n];return r&&"1"!==e.manual?(0,_.tZ)(gt,{integrationSlug:r,...t}):(0,_.tZ)(D,{...t})};ht.displayName="PlatformOrIntegration";const ft=ht}}]);
//# sourceMappingURL=../sourcemaps/app_views_projectInstall_platformOrIntegration_tsx.36233bc8caf979d60dad9993e5e1f4a6.js.map