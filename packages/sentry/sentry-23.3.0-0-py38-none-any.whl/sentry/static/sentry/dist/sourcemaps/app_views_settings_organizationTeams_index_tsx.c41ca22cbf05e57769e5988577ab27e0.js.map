{"version":3,"file":"chunks/app_views_settings_organizationTeams_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/searchBar.tsx","webpack:///./app/views/asyncView.tsx","webpack:///./app/views/settings/organizationTeams/allTeamsRow.tsx","webpack:///./app/views/settings/organizationTeams/allTeamsList.tsx","webpack:///./app/views/settings/organizationTeams/organizationAccessRequests.tsx","webpack:///./app/views/settings/organizationTeams/organizationTeams.tsx","webpack:///./app/views/settings/organizationTeams/index.tsx","webpack:///./app/views/settings/organizationTeams/roleOverwriteWarning.tsx"],"sourcesContent":["import {useCallback, useEffect, useRef, useState} from 'react';\nimport styled from '@emotion/styled';\n\nimport {Button} from 'sentry/components/button';\nimport {InputGroup, InputProps} from 'sentry/components/inputGroup';\nimport {IconSearch} from 'sentry/icons';\nimport {IconClose} from 'sentry/icons/iconClose';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\n\ninterface SearchBarProps extends Omit<InputProps, 'onChange'> {\n  defaultQuery?: string;\n  onChange?: (query: string) => void;\n  onSearch?: (query: string) => void;\n  query?: string;\n  trailing?: React.ReactNode;\n  width?: string;\n}\n\nfunction SearchBar({\n  query: queryProp,\n  defaultQuery = '',\n  onChange,\n  onSearch,\n  width,\n  size,\n  className,\n  trailing,\n  ...inputProps\n}: SearchBarProps) {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [query, setQuery] = useState(queryProp ?? defaultQuery);\n\n  // if query prop keeps changing we should treat this as\n  // a controlled component and its internal state should be in sync\n  useEffect(() => {\n    if (typeof queryProp === 'string') {\n      setQuery(queryProp);\n    }\n  }, [queryProp]);\n\n  const onQueryChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const {value} = e.target;\n      setQuery(value);\n      onChange?.(value);\n    },\n    [onChange]\n  );\n\n  const onSubmit = useCallback(\n    (e: React.FormEvent<HTMLFormElement>) => {\n      e.preventDefault();\n      inputRef.current?.blur();\n      onSearch?.(query);\n    },\n    [onSearch, query]\n  );\n\n  const clearSearch = useCallback(() => {\n    setQuery('');\n    onChange?.('');\n    onSearch?.('');\n  }, [onChange, onSearch]);\n\n  return (\n    <FormWrap onSubmit={onSubmit} className={className}>\n      <InputGroup>\n        <InputGroup.LeadingItems disablePointerEvents>\n          <IconSearch color=\"subText\" size={size === 'xs' ? 'xs' : 'sm'} />\n        </InputGroup.LeadingItems>\n        <StyledInput\n          {...inputProps}\n          ref={inputRef}\n          type=\"text\"\n          name=\"query\"\n          autoComplete=\"off\"\n          value={query}\n          onChange={onQueryChange}\n          width={width}\n          size={size}\n        />\n        <InputGroup.TrailingItems>\n          {trailing}\n          {!!query && (\n            <SearchBarTrailingButton\n              size=\"zero\"\n              borderless\n              onClick={clearSearch}\n              icon={<IconClose size=\"xs\" />}\n              aria-label={t('Clear')}\n            />\n          )}\n        </InputGroup.TrailingItems>\n      </InputGroup>\n    </FormWrap>\n  );\n}\n\nconst FormWrap = styled('form')`\n  display: block;\n  position: relative;\n`;\n\nconst StyledInput = styled(InputGroup.Input)`\n  ${p => p.width && `width: ${p.width};`}\n`;\n\nexport const SearchBarTrailingButton = styled(Button)`\n  color: ${p => p.theme.subText};\n  padding: ${space(0.5)};\n`;\n\nexport default SearchBar;\n","import AsyncComponent from 'sentry/components/asyncComponent';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\n\ntype AsyncViewState = AsyncComponent['state'];\ntype AsyncViewProps = AsyncComponent['props'];\n\nexport default class AsyncView<\n  P extends AsyncViewProps = AsyncViewProps,\n  S extends AsyncViewState = AsyncViewState\n> extends AsyncComponent<P, S> {\n  getTitle() {\n    return '';\n  }\n\n  render() {\n    return (\n      <SentryDocumentTitle title={this.getTitle()}>\n        {this.renderComponent() as React.ReactChild}\n      </SentryDocumentTitle>\n    );\n  }\n}\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {fetchOrganizationDetails} from 'sentry/actionCreators/organizations';\nimport {joinTeam, leaveTeam} from 'sentry/actionCreators/teams';\nimport {Client} from 'sentry/api';\nimport {Button} from 'sentry/components/button';\nimport IdBadge from 'sentry/components/idBadge';\nimport Link from 'sentry/components/links/link';\nimport {PanelItem} from 'sentry/components/panels';\nimport {t, tct, tn} from 'sentry/locale';\nimport TeamStore from 'sentry/stores/teamStore';\nimport {space} from 'sentry/styles/space';\nimport {Organization, Team} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  openMembership: boolean;\n  organization: Organization;\n  team: Team;\n};\n\ntype State = {\n  error: boolean;\n  loading: boolean;\n};\n\nclass AllTeamsRow extends Component<Props, State> {\n  state: State = {\n    loading: false,\n    error: false,\n  };\n\n  reloadProjects() {\n    const {api, organization} = this.props;\n    // After a change in teams has happened, refresh the project store\n    fetchOrganizationDetails(api, organization.slug, {\n      loadProjects: true,\n    });\n  }\n\n  handleRequestAccess = () => {\n    const {team} = this.props;\n\n    try {\n      this.joinTeam({\n        successMessage: tct('You have requested access to [team]', {\n          team: `#${team.slug}`,\n        }),\n\n        errorMessage: tct('Unable to request access to [team]', {\n          team: `#${team.slug}`,\n        }),\n      });\n\n      // Update team so that `isPending` is true\n      TeamStore.onUpdateSuccess(team.slug, {\n        ...team,\n        isPending: true,\n      });\n    } catch (_err) {\n      // No need to do anything\n    }\n  };\n\n  handleJoinTeam = async () => {\n    const {team} = this.props;\n\n    await this.joinTeam({\n      successMessage: tct('You have joined [team]', {\n        team: `#${team.slug}`,\n      }),\n      errorMessage: tct('Unable to join [team]', {\n        team: `#${team.slug}`,\n      }),\n    });\n\n    this.reloadProjects();\n  };\n\n  joinTeam = ({\n    successMessage,\n    errorMessage,\n  }: {\n    errorMessage: React.ReactNode;\n    successMessage: React.ReactNode;\n  }) => {\n    const {api, organization, team} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    return new Promise<void>((resolve, reject) =>\n      joinTeam(\n        api,\n        {\n          orgId: organization.slug,\n          teamId: team.slug,\n        },\n        {\n          success: () => {\n            this.setState({\n              loading: false,\n              error: false,\n            });\n            addSuccessMessage(successMessage);\n            resolve();\n          },\n          error: () => {\n            this.setState({\n              loading: false,\n              error: true,\n            });\n            addErrorMessage(errorMessage);\n            reject(new Error('Unable to join team'));\n          },\n        }\n      )\n    );\n  };\n\n  handleLeaveTeam = () => {\n    const {api, organization, team} = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    leaveTeam(\n      api,\n      {\n        orgId: organization.slug,\n        teamId: team.slug,\n      },\n      {\n        success: () => {\n          this.setState({\n            loading: false,\n            error: false,\n          });\n          addSuccessMessage(\n            tct('You have left [team]', {\n              team: `#${team.slug}`,\n            })\n          );\n\n          // Reload ProjectsStore\n          this.reloadProjects();\n        },\n        error: () => {\n          this.setState({\n            loading: false,\n            error: true,\n          });\n          addErrorMessage(\n            tct('Unable to leave [team]', {\n              team: `#${team.slug}`,\n            })\n          );\n        },\n      }\n    );\n  };\n\n  getTeamRoleName = () => {\n    const {organization, team} = this.props;\n    if (!organization.features.includes('team-roles') || !team.teamRole) {\n      return null;\n    }\n\n    const {teamRoleList} = organization;\n    const roleName = teamRoleList.find(r => r.id === team.teamRole)?.name;\n\n    return roleName;\n  };\n\n  render() {\n    const {team, openMembership, organization} = this.props;\n    const urlPrefix = `/settings/${organization.slug}/teams/`;\n    const buttonHelpText = team.flags['idp:provisioned']\n      ? t(\n          \"Membership to this team is managed through your organization's identity provider.\"\n        )\n      : undefined;\n\n    const display = (\n      <IdBadge\n        team={team}\n        avatarSize={36}\n        description={tn('%s Member', '%s Members', team.memberCount)}\n      />\n    );\n\n    // You can only view team details if you have access to team -- this should account\n    // for your role + org open membership\n    const canViewTeam = team.hasAccess;\n\n    const idpProvisioned = team.flags['idp:provisioned'];\n\n    return (\n      <TeamPanelItem>\n        <div>\n          {canViewTeam ? (\n            <TeamLink data-test-id=\"team-link\" to={`${urlPrefix}${team.slug}/`}>\n              {display}\n            </TeamLink>\n          ) : (\n            display\n          )}\n        </div>\n        <div>{this.getTeamRoleName()}</div>\n        <div>\n          {this.state.loading ? (\n            <Button size=\"sm\" disabled>\n              ...\n            </Button>\n          ) : team.isMember ? (\n            <Button\n              size=\"sm\"\n              onClick={this.handleLeaveTeam}\n              disabled={idpProvisioned}\n              title={buttonHelpText}\n            >\n              {t('Leave Team')}\n            </Button>\n          ) : team.isPending ? (\n            <Button\n              size=\"sm\"\n              disabled\n              title={t(\n                'Your request to join this team is being reviewed by organization owners'\n              )}\n            >\n              {t('Request Pending')}\n            </Button>\n          ) : openMembership ? (\n            <Button\n              size=\"sm\"\n              onClick={this.handleJoinTeam}\n              disabled={idpProvisioned}\n              title={buttonHelpText}\n            >\n              {t('Join Team')}\n            </Button>\n          ) : (\n            <Button\n              size=\"sm\"\n              onClick={this.handleRequestAccess}\n              disabled={idpProvisioned}\n              title={buttonHelpText}\n            >\n              {t('Request Access')}\n            </Button>\n          )}\n        </div>\n      </TeamPanelItem>\n    );\n  }\n}\n\nconst TeamLink = styled(Link)`\n  display: inline-block;\n\n  &.focus-visible {\n    margin: -${space(1)};\n    padding: ${space(1)};\n    background: #f2eff5;\n    border-radius: 3px;\n    outline: none;\n  }\n`;\n\nexport {AllTeamsRow};\nexport default withApi(AllTeamsRow);\n\nconst TeamPanelItem = styled(PanelItem)`\n  display: grid;\n  grid-template-columns: minmax(150px, 4fr) minmax(90px, 1fr) min-content;\n  gap: ${space(2)};\n  align-items: center;\n\n  > div:last-child {\n    margin-left: auto;\n  }\n`;\n","import {Fragment} from 'react';\nimport styled from '@emotion/styled';\n\nimport {openCreateTeamModal} from 'sentry/actionCreators/modal';\nimport {Button} from 'sentry/components/button';\nimport EmptyMessage from 'sentry/components/emptyMessage';\nimport {t, tct} from 'sentry/locale';\nimport {Organization, Team} from 'sentry/types';\nimport TextBlock from 'sentry/views/settings/components/text/textBlock';\n\nimport AllTeamsRow from './allTeamsRow';\n\ntype Props = {\n  access: Record<string, any>;\n  openMembership: boolean;\n  organization: Organization;\n  teamList: Array<Team>;\n};\n\nfunction AllTeamsList({organization, openMembership, teamList, access}: Props) {\n  const teamNodes = teamList.map(team => (\n    <AllTeamsRow\n      team={team}\n      organization={organization}\n      openMembership={openMembership}\n      key={team.slug}\n    />\n  ));\n\n  if (!teamNodes.length) {\n    const canCreateTeam = access.has('project:admin');\n\n    return (\n      <EmptyMessage>\n        {tct('No teams here. [teamCreate]', {\n          root: <TextBlock noMargin />,\n          teamCreate: canCreateTeam\n            ? tct('You can always [link:create one].', {\n                link: (\n                  <StyledButton\n                    priority=\"link\"\n                    onClick={() =>\n                      openCreateTeamModal({\n                        organization,\n                      })\n                    }\n                    aria-label={t('Create team')}\n                  />\n                ),\n              })\n            : null,\n        })}\n      </EmptyMessage>\n    );\n  }\n\n  return <Fragment>{teamNodes}</Fragment>;\n}\n\nexport default AllTeamsList;\n\nconst StyledButton = styled(Button)`\n  font-size: ${p => p.theme.fontSizeLarge};\n`;\n","import {Component} from 'react';\nimport styled from '@emotion/styled';\n\nimport {addErrorMessage, addSuccessMessage} from 'sentry/actionCreators/indicator';\nimport {Client} from 'sentry/api';\nimport {Button} from 'sentry/components/button';\nimport {Panel, PanelBody, PanelHeader, PanelItem} from 'sentry/components/panels';\nimport {t, tct} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {AccessRequest} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\n\ntype Props = {\n  api: Client;\n  onRemoveAccessRequest: (id: string, isApproved: boolean) => void;\n  orgId: string;\n  requestList: AccessRequest[];\n};\n\ntype State = {\n  accessRequestBusy: Record<string, boolean>;\n};\n\ntype HandleOpts = {\n  errorMessage: string;\n  id: string;\n  isApproved: boolean;\n  successMessage: string;\n};\n\nclass OrganizationAccessRequests extends Component<Props, State> {\n  state: State = {\n    accessRequestBusy: {},\n  };\n\n  async handleAction({id, isApproved, successMessage, errorMessage}: HandleOpts) {\n    const {api, orgId, onRemoveAccessRequest} = this.props;\n\n    this.setState(state => ({\n      accessRequestBusy: {...state.accessRequestBusy, [id]: true},\n    }));\n\n    try {\n      await api.requestPromise(`/organizations/${orgId}/access-requests/${id}/`, {\n        method: 'PUT',\n        data: {isApproved},\n      });\n      onRemoveAccessRequest(id, isApproved);\n      addSuccessMessage(successMessage);\n    } catch {\n      addErrorMessage(errorMessage);\n    }\n\n    this.setState(state => ({\n      accessRequestBusy: {...state.accessRequestBusy, [id]: false},\n    }));\n  }\n\n  handleApprove = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    this.handleAction({\n      id,\n      isApproved: true,\n      successMessage: t('Team request approved'),\n      errorMessage: t('Error approving team request'),\n    });\n  };\n\n  handleDeny = (id: string, e: React.MouseEvent) => {\n    e.stopPropagation();\n    this.handleAction({\n      id,\n      isApproved: false,\n      successMessage: t('Team request denied'),\n      errorMessage: t('Error denying team request'),\n    });\n  };\n\n  render() {\n    const {requestList} = this.props;\n    const {accessRequestBusy} = this.state;\n\n    if (!requestList || !requestList.length) {\n      return null;\n    }\n\n    return (\n      <Panel>\n        <PanelHeader>{t('Pending Team Requests')}</PanelHeader>\n\n        <PanelBody>\n          {requestList.map(({id, member, team, requester}) => {\n            const memberName =\n              member.user &&\n              (member.user.name || member.user.email || member.user.username);\n            const requesterName =\n              requester && (requester.name || requester.email || requester.username);\n            return (\n              <StyledPanelItem key={id}>\n                <div data-test-id=\"request-message\">\n                  {requesterName\n                    ? tct('[requesterName] requests to add [name] to the [team] team.', {\n                        requesterName,\n                        name: <strong>{memberName}</strong>,\n                        team: <strong>#{team.slug}</strong>,\n                      })\n                    : tct('[name] requests access to the [team] team.', {\n                        name: <strong>{memberName}</strong>,\n                        team: <strong>#{team.slug}</strong>,\n                      })}\n                </div>\n                <div>\n                  <StyledButton\n                    priority=\"primary\"\n                    size=\"sm\"\n                    onClick={e => this.handleApprove(id, e)}\n                    busy={accessRequestBusy[id]}\n                  >\n                    {t('Approve')}\n                  </StyledButton>\n                  <Button\n                    busy={accessRequestBusy[id]}\n                    onClick={e => this.handleDeny(id, e)}\n                    size=\"sm\"\n                  >\n                    {t('Deny')}\n                  </Button>\n                </div>\n              </StyledPanelItem>\n            );\n          })}\n        </PanelBody>\n      </Panel>\n    );\n  }\n}\n\nconst StyledPanelItem = styled(PanelItem)`\n  display: grid;\n  grid-template-columns: auto max-content;\n  gap: ${space(2)};\n  align-items: center;\n`;\n\nconst StyledButton = styled(Button)`\n  margin-right: ${space(1)};\n`;\n\nexport default withApi(OrganizationAccessRequests);\n","import {useState} from 'react';\nimport {RouteComponentProps} from 'react-router';\nimport styled from '@emotion/styled';\nimport debounce from 'lodash/debounce';\nimport partition from 'lodash/partition';\n\nimport {openCreateTeamModal} from 'sentry/actionCreators/modal';\nimport {Button} from 'sentry/components/button';\nimport LoadingIndicator from 'sentry/components/loadingIndicator';\nimport {Panel, PanelBody, PanelHeader} from 'sentry/components/panels';\nimport SearchBar from 'sentry/components/searchBar';\nimport SentryDocumentTitle from 'sentry/components/sentryDocumentTitle';\nimport {DEFAULT_DEBOUNCE_DURATION} from 'sentry/constants';\nimport {IconAdd} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {AccessRequest, Organization} from 'sentry/types';\nimport useTeams from 'sentry/utils/useTeams';\nimport SettingsPageHeader from 'sentry/views/settings/components/settingsPageHeader';\nimport {RoleOverwritePanelAlert} from 'sentry/views/settings/organizationTeams/roleOverwriteWarning';\n\nimport AllTeamsList from './allTeamsList';\nimport OrganizationAccessRequests from './organizationAccessRequests';\n\ntype Props = {\n  access: Set<string>;\n  features: Set<string>;\n  onRemoveAccessRequest: (id: string, isApproved: boolean) => void;\n  organization: Organization;\n  requestList: AccessRequest[];\n} & RouteComponentProps<{}, {}>;\n\nfunction OrganizationTeams({\n  organization,\n  access,\n  features,\n  requestList,\n  onRemoveAccessRequest,\n}: Props) {\n  const [teamQuery, setTeamQuery] = useState('');\n  const {initiallyLoaded} = useTeams({provideUserTeams: true});\n  const {teams, onSearch, loadMore, hasMore, fetching} = useTeams();\n\n  if (!organization) {\n    return null;\n  }\n  const canCreateTeams = access.has('project:admin');\n\n  const action = (\n    <Button\n      priority=\"primary\"\n      size=\"sm\"\n      disabled={!canCreateTeams}\n      title={\n        !canCreateTeams ? t('You do not have permission to create teams') : undefined\n      }\n      onClick={() =>\n        openCreateTeamModal({\n          organization,\n        })\n      }\n      icon={<IconAdd size=\"xs\" isCircled />}\n    >\n      {t('Create Team')}\n    </Button>\n  );\n\n  const title = t('Teams');\n\n  const debouncedSearch = debounce(onSearch, DEFAULT_DEBOUNCE_DURATION);\n  function handleSearch(query: string) {\n    setTeamQuery(query);\n    debouncedSearch(query);\n  }\n\n  const {slug: orgSlug, orgRole, orgRoleList, teamRoleList} = organization;\n  const filteredTeams = teams.filter(team =>\n    `#${team.slug}`.toLowerCase().includes(teamQuery.toLowerCase())\n  );\n  const [userTeams, otherTeams] = partition(filteredTeams, team => team.isMember);\n\n  return (\n    <div data-test-id=\"team-list\">\n      <SentryDocumentTitle title={title} orgSlug={orgSlug} />\n      <SettingsPageHeader title={title} action={action} />\n\n      <OrganizationAccessRequests\n        orgId={organization.slug}\n        requestList={requestList}\n        onRemoveAccessRequest={onRemoveAccessRequest}\n      />\n      <StyledSearchBar\n        placeholder={t('Search teams')}\n        onChange={handleSearch}\n        query={teamQuery}\n      />\n      <Panel>\n        <PanelHeader>{t('Your Teams')}</PanelHeader>\n        <PanelBody>\n          {features.has('team-roles') && (\n            <RoleOverwritePanelAlert\n              orgRole={orgRole}\n              orgRoleList={orgRoleList}\n              teamRoleList={teamRoleList}\n              isSelf\n            />\n          )}\n          {initiallyLoaded ? (\n            <AllTeamsList\n              organization={organization}\n              teamList={userTeams.filter(team => team.slug.includes(teamQuery))}\n              access={access}\n              openMembership={false}\n            />\n          ) : (\n            <LoadingIndicator />\n          )}\n        </PanelBody>\n      </Panel>\n      <Panel>\n        <PanelHeader>{t('Other Teams')}</PanelHeader>\n        <PanelBody>\n          <AllTeamsList\n            organization={organization}\n            teamList={otherTeams}\n            access={access}\n            openMembership={\n              !!(features.has('open-membership') || access.has('org:write'))\n            }\n          />\n        </PanelBody>\n      </Panel>\n      {hasMore && (\n        <LoadMoreWrapper>\n          {fetching && <LoadingIndicator mini />}\n          <Button onClick={() => loadMore(teamQuery)}>{t('Show more')}</Button>\n        </LoadMoreWrapper>\n      )}\n    </div>\n  );\n}\n\nconst StyledSearchBar = styled(SearchBar)`\n  margin-bottom: ${space(2)};\n`;\n\nconst LoadMoreWrapper = styled('div')`\n  display: grid;\n  gap: ${space(2)};\n  align-items: center;\n  justify-content: end;\n  grid-auto-flow: column;\n`;\n\nexport default OrganizationTeams;\n","import {RouteComponentProps} from 'react-router';\n\nimport {loadStats} from 'sentry/actionCreators/projects';\nimport {Client} from 'sentry/api';\nimport TeamStore from 'sentry/stores/teamStore';\nimport {AccessRequest, Organization, Team} from 'sentry/types';\nimport withApi from 'sentry/utils/withApi';\nimport withOrganization from 'sentry/utils/withOrganization';\nimport AsyncView from 'sentry/views/asyncView';\n\nimport OrganizationTeams from './organizationTeams';\n\ntype Props = {\n  api: Client;\n  organization: Organization;\n  teams: Team[];\n} & RouteComponentProps<{}, {}>;\n\ntype State = AsyncView['state'] & {\n  requestList: AccessRequest[];\n};\n\nclass OrganizationTeamsContainer extends AsyncView<Props, State> {\n  getEndpoints(): ReturnType<AsyncView['getEndpoints']> {\n    const {organization} = this.props;\n\n    return [['requestList', `/organizations/${organization.slug}/access-requests/`]];\n  }\n\n  componentDidMount() {\n    this.fetchStats();\n  }\n\n  fetchStats() {\n    const {organization} = this.props;\n    loadStats(this.props.api, {\n      orgId: organization.slug,\n      query: {\n        since: (new Date().getTime() / 1000 - 3600 * 24).toString(),\n        stat: 'generated',\n        group: 'project',\n      },\n    });\n  }\n\n  removeAccessRequest = (id: string, isApproved: boolean) => {\n    const requestToRemove = this.state.requestList.find(request => request.id === id);\n    this.setState(state => ({\n      requestList: state.requestList.filter(request => request.id !== id),\n    }));\n    if (isApproved && requestToRemove) {\n      const team = requestToRemove.team;\n      TeamStore.onUpdateSuccess(team.slug, {\n        ...team,\n        memberCount: team.memberCount + 1,\n      });\n    }\n  };\n\n  renderBody() {\n    const {organization} = this.props;\n\n    if (!organization) {\n      return null;\n    }\n\n    return (\n      <OrganizationTeams\n        {...this.props}\n        access={new Set(organization.access)}\n        features={new Set(organization.features)}\n        organization={organization}\n        requestList={this.state.requestList}\n        onRemoveAccessRequest={this.removeAccessRequest}\n      />\n    );\n  }\n}\n\nexport {OrganizationTeamsContainer};\n\nexport default withApi(withOrganization(OrganizationTeamsContainer));\n","import {PanelAlert} from 'sentry/components/panels';\nimport {Tooltip} from 'sentry/components/tooltip';\nimport {IconInfo} from 'sentry/icons';\nimport {tct} from 'sentry/locale';\nimport {OrgRole, TeamRole} from 'sentry/types';\n\ntype Props = {\n  orgRole: OrgRole['id'] | undefined;\n  orgRoleList: OrgRole[];\n  teamRoleList: TeamRole[];\n  isSelf?: boolean;\n};\n\nexport const RoleOverwriteIcon: React.FC<Props> = props => {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return (\n    <Tooltip title={getOverwriteString(props)}>\n      <IconInfo size=\"sm\" color=\"gray300\" />\n    </Tooltip>\n  );\n};\n\nexport const RoleOverwritePanelAlert: React.FC<Props> = props => {\n  const hasOverride = hasOrgRoleOverwrite(props);\n  if (!hasOverride) {\n    return null;\n  }\n\n  return (\n    <PanelAlert data-test-id=\"alert-role-overwrite\">\n      {getOverwriteString(props)}\n    </PanelAlert>\n  );\n};\n\n/**\n * Check that the user's org role has a minimum team role that maps to the lowest\n * possible team role\n */\nexport function hasOrgRoleOverwrite(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList} = props;\n\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  return teamRoleList.findIndex(r => r.id === orgRoleObj?.minimumTeamRole) > 0;\n}\n\n/**\n * Standardize string so situations where org-level vs team-level roles is easier to recognize\n */\nexport function getOverwriteString(props: Props) {\n  const {orgRole, orgRoleList, teamRoleList, isSelf} = props;\n  const orgRoleObj = orgRoleList.find(r => r.id === orgRole);\n  const teamRoleObj = teamRoleList.find(r => r.id === orgRoleObj?.minimumTeamRole);\n  if (!orgRoleObj || !teamRoleObj) {\n    return '';\n  }\n\n  return tct(\n    '[selfNoun] organization role as [article] [orgRole] has granted [selfPronoun] a minimum team-level role of [teamRole]',\n    {\n      selfNoun: isSelf ? 'Your' : \"This user's\",\n      selfPronoun: isSelf ? 'you' : 'them',\n      article: 'AEIOU'.includes(orgRoleObj.name[0]) ? 'an' : 'a',\n      orgRole: <strong>{orgRoleObj.name}</strong>,\n      teamRole: <strong>{teamRoleObj.name}</strong>,\n    }\n  );\n}\n\nexport default RoleOverwriteIcon;\n"],"names":["SearchBar","_ref","query","queryProp","defaultQuery","onChange","onSearch","width","size","className","trailing","inputProps","inputRef","useRef","setQuery","useState","useEffect","onQueryChange","useCallback","e","value","target","onSubmit","preventDefault","current","blur","clearSearch","_jsx","FormWrap","children","_jsxs","InputGroup","disablePointerEvents","IconSearch","color","StyledInput","ref","type","name","autoComplete","SearchBarTrailingButton","borderless","onClick","icon","IconClose","t","displayName","_styled","styles","p","Button","theme","subText","space","AsyncView","AsyncComponent","getTitle","render","SentryDocumentTitle","title","this","renderComponent","AllTeamsRow","Component","constructor","arguments","_defineProperty","loading","error","team","props","joinTeam","successMessage","tct","slug","errorMessage","TeamStore","isPending","_err","async","reloadProjects","api","organization","setState","Promise","resolve","reject","orgId","teamId","success","addSuccessMessage","addErrorMessage","Error","leaveTeam","features","includes","teamRole","teamRoleList","roleName","find","r","id","fetchOrganizationDetails","loadProjects","openMembership","urlPrefix","buttonHelpText","flags","undefined","display","IdBadge","avatarSize","description","tn","memberCount","canViewTeam","hasAccess","idpProvisioned","TeamPanelItem","TeamLink","to","getTeamRoleName","state","disabled","isMember","handleLeaveTeam","handleJoinTeam","handleRequestAccess","Link","withApi","PanelItem","AllTeamsList","teamList","access","teamNodes","map","length","canCreateTeam","has","EmptyMessage","root","TextBlock","noMargin","teamCreate","link","StyledButton","priority","openCreateTeamModal","Fragment","fontSizeLarge","OrganizationAccessRequests","accessRequestBusy","stopPropagation","handleAction","isApproved","onRemoveAccessRequest","requestPromise","method","data","requestList","Panel","PanelHeader","PanelBody","_ref2","member","requester","memberName","user","email","username","requesterName","StyledPanelItem","handleApprove","busy","handleDeny","OrganizationTeams","teamQuery","setTeamQuery","initiallyLoaded","useTeams","provideUserTeams","teams","loadMore","hasMore","fetching","canCreateTeams","action","IconAdd","isCircled","debouncedSearch","debounce","DEFAULT_DEBOUNCE_DURATION","orgSlug","orgRole","orgRoleList","filteredTeams","filter","toLowerCase","userTeams","otherTeams","partition","SettingsPageHeader","StyledSearchBar","placeholder","RoleOverwritePanelAlert","isSelf","LoadingIndicator","LoadMoreWrapper","mini","OrganizationTeamsContainer","requestToRemove","request","getEndpoints","componentDidMount","fetchStats","loadStats","since","Date","getTime","toString","stat","group","renderBody","Set","removeAccessRequest","withOrganization","RoleOverwriteIcon","hasOrgRoleOverwrite","Tooltip","getOverwriteString","IconInfo","PanelAlert","orgRoleObj","findIndex","minimumTeamRole","teamRoleObj","selfNoun","selfPronoun","article"],"sourceRoot":""}