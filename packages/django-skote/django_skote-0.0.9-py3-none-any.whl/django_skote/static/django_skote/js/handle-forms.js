function sendForm(r){fetch(r.target.action,{method:"POST",body:new URLSearchParams(new FormData(r.target))}).then(t=>{if(t.ok)location.reload();else{if(500===t.status)throw $("#error-span").html('{% trans "An error has occurred. Please contact the developers." %}'),$("#error-span").removeAttr("hidden"),new Error(`Error! Status: ${t.status}.`);t.text().then(function(r){let e=JSON.parse(r);throw"string"==typeof e?($("#error-span").html(""+r.slice(1,-1)),$("#error-span").removeAttr("hidden")):Object.keys(e).forEach(function(t){let n=e[t];Array.isArray(n)&&(n=n.join(", ")),console.warn(t,n);let r=document.getElementById(""+t).labels;r.forEach(function(r){var e;null===document.getElementById("error-span-"+t)?(e=` <span class="text-danger" id='error-span-${t}'>${n}</span>`,r.innerHTML=r.innerHTML+e):$("#error-span-"+t).html(""+n)})}),new Error(`Error! Status: ${t.status}. Error message: `+r)})}}).then(r=>{}).catch(r=>{console.warn(r)})}