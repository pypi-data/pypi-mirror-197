(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[693],{49743:function(e,r,t){"use strict";var n=t(59499),s=t(4730),i=t(30268),c=t(48591),o=t(43894),a=t(85893),l=["search","onChange","withIcon","withClear"];function u(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function d(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?u(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.search,t=e.onChange,n=e.withIcon,u=e.withClear,h=(0,s.Z)(e,l);return(0,a.jsxs)(i.BZ,{size:"sm",minWidth:"308px",children:[n?(0,a.jsx)(i.Z8,{pointerEvents:"none",children:(0,a.jsx)(c.PT,{color:"gray.300",w:"17px",h:"17px"})}):null,(0,a.jsx)(i.II,d({autoComplete:"off",type:"search",minWidth:200,size:"sm",borderRadius:"md",value:r,name:"search",onChange:function(e){return t(e.target.value)}},h)),u?(0,a.jsx)(i.xH,{width:"3.5rem",display:"flex",alignItems:"center",children:(0,a.jsx)(o.zx,{fontWeight:"light",size:"sm",onClick:function(){t("")},height:"95%",width:"95%",children:"Clear"})}):null]})}},10846:function(e,r,t){"use strict";t.d(r,{MA:function(){return u},Vo:function(){return h},t5:function(){return d}});var n=t(59499),s=t(23256),i=t(85893);function c(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?c(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var a=function(e){var r=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-success-msg",children:[(0,i.jsx)("strong",{children:"Success:"})," ",r]})},l=function(e){var r=e.message;return(0,i.jsxs)(s.xv,{"data-testid":"toast-error-msg",children:[(0,i.jsx)("strong",{children:"Error:"})," ",r]})},u={variant:"subtle",position:"top",description:"",duration:5e3,status:"success",isClosable:!0},d=function(e){var r=(0,i.jsx)(a,{message:e});return o(o({},u),{description:r})},h=function(e){var r=(0,i.jsx)(l,{message:e});return o(o({},u),{description:r,status:"error"})}},69349:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return Y}});var n=t(23256),s=(t(67294),t(59499)),i=t(78522),c=t(43894),o=t(14416),a=t(43072),l=t(97375),u=t(37991),d=t(48591),h=t(86589),p=t(11163),f=t(18459),j=t(4730),m=t(50029),b=t(16835),x=t(87794),O=t.n(x),g=t(13450),y=t(26537),v=t(82175),w=t(74231),P=t(96016),C=t(65698),S=t(10846),D=t(85893),z=["user"],_={username:"",usernameConfirmation:""},N=function(e){var r=e.user,t=(0,j.Z)(e,z),s=t.isOpen,i=t.onClose,o=function(e){var r=e.id,t=e.username,n=e.onClose,s=(0,g.pm)(),i=(0,a.I1)(),c=(0,b.Z)(i,1)[0],o=function(){var e=(0,m.Z)(O().mark((function e(){var t;return O().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(r);case 2:t=e.sent,(0,C.D4)(t)?s((0,S.Vo)((0,C.e$)(t.error))):(s((0,S.t5)("Successfully deleted user")),n());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{handleDeleteUser:o,validationSchema:w.Ry().shape({username:w.Z_().required().oneOf([t],"Username must match this user's").label("Username"),usernameConfirmation:w.Z_().required().oneOf([w.iH("username")],"Usernames must match").label("Username confirmation")})}}({id:r.id,username:r.username,onClose:i}),l=o.handleDeleteUser,u=o.validationSchema;return(0,D.jsxs)(y.u_,{isCentered:!0,isOpen:s,onClose:i,children:[(0,D.jsx)(y.ZA,{}),(0,D.jsx)(y.hz,{"data-testid":"delete-user-modal",children:(0,D.jsx)(v.J9,{initialValues:_,validationSchema:u,onSubmit:l,children:function(e){var r=e.isSubmitting,t=e.dirty,s=e.isValid;return(0,D.jsxs)(v.l0,{children:[(0,D.jsx)(y.xB,{children:"Delete User"}),(0,D.jsx)(y.ol,{}),(0,D.jsx)(y.fe,{children:(0,D.jsxs)(n.Kq,{direction:"column",spacing:4,children:[(0,D.jsx)(P.j0,{name:"username",label:"Enter username"}),(0,D.jsx)(P.j0,{name:"usernameConfirmation",label:"Confirm username"})]})}),(0,D.jsx)(y.mz,{children:(0,D.jsxs)(c.hE,{size:"sm",spacing:"2",width:"100%",children:[(0,D.jsx)(c.zx,{onClick:i,variant:"outline",width:"50%",children:"Cancel"}),(0,D.jsx)(c.zx,{colorScheme:"primary",disabled:!t||!s,isLoading:r,type:"submit",width:"50%","data-testid":"submit-btn",children:"Delete User"})]})})]})}})})]})};function E(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function k(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?E(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):E(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var Z=function(e){var r=e.user,t=(0,p.useRouter)(),s=(0,l.qY)();return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.Tr,{_hover:{bg:"gray.50"},height:"36px","data-testid":"row-".concat(r.id),children:[(0,D.jsx)(i.Td,{pl:0,py:1,children:r.username}),(0,D.jsx)(i.Td,{pl:0,py:1,children:r.first_name}),(0,D.jsx)(i.Td,{pl:0,py:1,children:r.last_name}),(0,D.jsx)(i.Td,{pl:0,py:1,children:r.created_at?new Date(r.created_at).toUTCString():null}),(0,D.jsx)(i.Td,{pr:0,py:1,textAlign:"end",position:"relative",children:(0,D.jsx)(c.hE,{children:(0,D.jsxs)(u.v2,{children:[(0,D.jsx)(u.j2,{as:c.zx,size:"xs",bg:"white","data-testid":"menu-btn",children:(0,D.jsx)(d.nX,{color:"gray.700",w:18,h:18})}),(0,D.jsx)(h.h_,{children:(0,D.jsxs)(u.qy,{shadow:"xl","data-testid":"menu-".concat(r.id),children:[(0,D.jsx)(u.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:function(){t.push("".concat(f.e3,"/profile/").concat(r.id))},"data-testid":"edit-btn",children:(0,D.jsx)(n.xv,{fontSize:"sm",children:"Edit"})}),(0,D.jsx)(u.sN,{_focus:{color:"complimentary.500",bg:"gray.100"},onClick:s.onOpen,"data-testid":"delete-btn",children:(0,D.jsx)(n.xv,{fontSize:"sm",children:"Delete"})})]})})]})})})]},r.id),(0,D.jsx)(N,k({user:r},s))]})};function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function U(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var q=function(){var e=function(){var e=(0,o.useDispatch)(),r=(0,o.useSelector)(a.lq),t=(0,a.wv)(r),n=t.data,s=t.isLoading,i=n||{users:[],total:0},c=i.items,l=i.total;return U(U({},r),{},{isLoading:s,users:c,total:l,handleNextPage:function(){e((0,a.YA)(r.page+1))},handlePreviousPage:function(){e((0,a.YA)(r.page-1))}})}(),r=e.users,t=e.total,s=e.page,l=e.size,u=e.handleNextPage,d=e.handlePreviousPage,h=(s-1)*l+1,p=Math.min(t,s*l);return(0,D.jsxs)(D.Fragment,{children:[(0,D.jsxs)(i.iA,{size:"sm","data-testid":"user-management-table",children:[(0,D.jsx)(i.hr,{children:(0,D.jsxs)(i.Tr,{children:[(0,D.jsx)(i.Th,{pl:0,children:"Username"}),(0,D.jsx)(i.Th,{pl:0,children:"First Name"}),(0,D.jsx)(i.Th,{pl:0,children:"Last Name"}),(0,D.jsx)(i.Th,{pl:0,children:"Created At"})]})}),(0,D.jsx)(i.p3,{children:null===r||void 0===r?void 0:r.map((function(e){return(0,D.jsx)(Z,{user:e},e.id)}))})]}),(0,D.jsxs)(n.kC,{justifyContent:"space-between",mt:6,children:[(0,D.jsx)(n.xv,{fontSize:"xs",color:"gray.600",children:t>0?(0,D.jsxs)(D.Fragment,{children:["Showing ",Number.isNaN(h)?0:h," to"," ",Number.isNaN(p)?0:p," of"," ",Number.isNaN(t)?0:t," results"]}):"0 results"}),(0,D.jsxs)("div",{children:[(0,D.jsx)(c.zx,{disabled:s<=1,onClick:d,mr:2,size:"sm",children:"Previous"}),(0,D.jsx)(c.zx,{disabled:s*l>=t,onClick:u,size:"sm",children:"Next"})]})]})]})};q.defaultProps={users:[]};var A=q,I=t(41664),F=t.n(I),L=t(49743);function M(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}var V=function(){var e=(0,o.useSelector)(a.lq),r=(0,o.useDispatch)();return function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?M(Object(t),!0).forEach((function(r){(0,s.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({handleSearchChange:function(e){r((0,a.SY)(e))}},e)},W=function(){var e=V(),r=e.handleSearchChange,t=e.username;return(0,D.jsxs)(n.Kq,{direction:"row",spacing:4,mb:6,children:[(0,D.jsx)(L.Z,{search:t,onChange:r,placeholder:"Search by Username"}),(0,D.jsx)(F(),{href:"".concat(f.e3,"/new"),passHref:!0,children:(0,D.jsx)(c.zx,{colorScheme:"primary",flexShrink:0,size:"sm",children:"Add New User"})})]})},X=t(17140),Y=function(){return(0,D.jsxs)(X.Z,{title:"User Management",children:[(0,D.jsx)(n.X6,{fontSize:"2xl",fontWeight:"semibold",mb:4,children:"User Management"}),(0,D.jsx)(W,{}),(0,D.jsx)(A,{})]})}},58769:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user-management",function(){return t(69349)}])}},function(e){e.O(0,[5372,7601,2350,248,6648,4231,8522,6221,6016,9774,2888,179],(function(){return r=58769,e(e.s=r);var r}));var r=e.O();_N_E=r}]);