(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2287],{45838:function(n,e,r){"use strict";r.d(e,{GZ:function(){return d},Vq:function(){return a},cE:function(){return f},cl:function(){return u},kA:function(){return l}});var t=r(9518),o=r(23831),i=r(37391),c=r(49125),u=t.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-1wzfyed-0"})(["position:relative;overflow:auto;"," "," ",""],i.w5,(function(n){return n.minHeight&&"\n    min-height: ".concat(n.minHeight,"px;\n  ")}),(function(n){return n.overflowVisible&&"\n    overflow: visible;\n  "})),l=t.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-1"})(["contain:size;width:100%;",""],(function(n){return(n.columnBorders||n.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),a=t.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-2"})([""," ",""],(function(n){return n.highlightOnHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||o.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(n){return!n.noHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||o.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),s=(0,t.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(n){return!n.alignTop&&"\n    vertical-align: middle;\n  "}),(function(n){return n.alignTop&&"\n    vertical-align: top;\n  "}),(function(n){return!n.noBorder&&"\n    border-bottom: 1px solid ".concat((n.theme.borders||o.Z.borders).light,";\n  ")}),(function(n){return n.compact&&"\n    padding: ".concat(c.iI/2,"px ").concat(c.iI,"px;\n  ")}),(function(n){return!n.compact&&"\n    padding: ".concat(c.iI,"px ").concat(2*c.iI,"px;\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,";\n  ")})),d=t.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-3"})([""," "," "," ",""],s,(function(n){return n.columnBorders&&"\n    border: 1px solid ".concat((n.theme.borders||o.Z.borders).light,";\n    border-right: none;\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||o.Z.borders).light,";\n  ")}),(function(n){return n.sticky&&"\n    background-color: ".concat((n.theme||o.Z).background.panel,";\n    border-bottom: 1px solid ").concat((n.theme.borders||o.Z.borders).medium,";\n    z-index: 2;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),f=t.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-4"})([""," "," "," "," "," "," ",""],s,(function(n){return n.rowVerticalPadding&&"\n    padding-top: ".concat(n.rowVerticalPadding,"px;\n    padding-bottom: ").concat(n.rowVerticalPadding,"px;\n  ")}),(function(n){return n.columnBorders&&"\n    border-left: 1px solid ".concat((n.theme.borders||o.Z.borders).light,";\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||o.Z.borders).light,";\n  ")}),(function(n){return n.stickyFirstColumn&&"\n    background-color: ".concat((n.theme||o.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||o.Z.interactive).activeBorder,";\n  ")}),(function(n){return n.wrapColumns&&"\n    white-space: break-spaces;\n  "}))},87815:function(n,e,r){"use strict";var t=r(82394),o=r(12691),i=r.n(o),c=r(82684),u=r(67971),l=r(10919),a=r(86673),s=r(19711),d=r(46261),f=r(45838),p=r(28598);function v(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function h(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?v(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}e.Z=function(n){var e=n.alignTop,r=n.borderCollapseSeparate,t=n.buildLinkProps,o=n.buildRowProps,v=n.columnBorders,b=n.columnFlex,m=n.columnMaxWidth,g=n.columns,w=void 0===g?[]:g,y=n.compact,O=n.highlightRowOnHover,j=n.isSelectedRow,x=n.noBorder,P=n.noHeader,_=n.onClickRow,Z=n.onDoubleClickRow,k=n.rows,S=n.rowVerticalPadding,C=n.stickyFirstColumn,E=n.stickyHeader,D=n.uuid,H=n.wrapColumns,B=(0,c.useMemo)((function(){return b.reduce((function(n,e){return n+(e||0)}),0)}),[b]),M=(0,c.useCallback)((function(n){if(b[n]){var e=Math.round(b[n]/B*100);return"".concat(e,"%")}return null}),[b,B]),I=(0,c.useMemo)((function(){return null===k||void 0===k?void 0:k.map((function(n,r){var u,a=null===t||void 0===t?void 0:t(r),s=(null===o||void 0===o?void 0:o(r))||{renderCell:null,renderRow:null},d=s.renderCell,b=s.renderRow,g=[];if(n.forEach((function(t,o){var i;d&&(i=d(t,o)),i||(i=(0,p.jsx)(f.cE,{alignTop:e,columnBorders:v,compact:y,last:o===n.length-1,maxWidth:null===m||void 0===m?void 0:m(o),noBorder:x,rowVerticalPadding:S,selected:null===j||void 0===j?void 0:j(r),stickyFirstColumn:C&&0===o,width:M(o),wrapColumns:H,children:t},"".concat(D,"-row-").concat(r,"-cell-").concat(o))),g.push(i)})),b)u=b(g);else{u=(0,p.jsx)(f.Vq,{highlightOnHover:O,noHover:!(a||_),onClick:_?function(n){return function(n,e){1===(null===e||void 0===e?void 0:e.detail)?_(n):Z&&2===(null===e||void 0===e?void 0:e.detail)&&Z(n)}(r,n)}:null,children:g},"".concat(D,"-row-").concat(r))}return a?(0,c.createElement)(i(),h(h({},a),{},{key:"".concat(D,"-row-link-").concat(r),passHref:!0}),(0,p.jsx)(l.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:u})):u}))}),[e,t,M,v,m,y,o,O,j,x,_,Z,S,k,C,D,H]);return(0,p.jsxs)(f.kA,{borderCollapseSeparate:r,columnBorders:v,children:[(null===w||void 0===w?void 0:w.length)>=1&&!P&&(0,p.jsx)(f.Vq,{noHover:!0,children:w.map((function(n,e){return(0,p.jsx)(f.GZ,{columnBorders:v,compact:y,last:e===w.length-1,noBorder:x,sticky:E,children:(0,p.jsxs)(u.Z,{alignItems:"center",justifyContent:n.center?"center":"flex-start",children:[(0,p.jsx)(s.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:n.label?n.label():n.uuid}),n.tooltipMessage&&(0,p.jsx)(a.Z,{ml:"4px",children:(0,p.jsx)(d.Z,{appearBefore:!0,label:(0,p.jsx)(s.ZP,{leftAligned:!0,children:n.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(D,"-col-").concat(n.uuid,"-").concat(e))}))}),I]})}},60921:function(n,e,r){"use strict";r.r(e);var t=r(77837),o=r(82394),i=r(38860),c=r.n(i),u=r(82684),l=r(34376),a=r(60328),s=r(87372),d=r(41788),f=r(30775),p=r(86673),v=r(87815),h=r(19711),b=r(20582),m=r(82531),g=r(66166),w=r(10503),y=r(49125),O=r(79585),j=r(63153),x=r(9736),P=r(33766),_=r(7715),Z=r(59e3),k=r(28598);function S(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function C(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){(0,o.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function E(){var n=(0,l.useRouter)(),e=((0,x.PR)()||{}).id,r=(0,u.useState)(null),t=r[0],o=r[1],i=m.ZP.users.list({},{revalidateOnFocus:!1}),c=i.data,d=i.mutate,S=(0,u.useMemo)((function(){return(null===c||void 0===c?void 0:c.users)||[]}),[c]),E=m.ZP.users.detail(null===t||void 0===t?void 0:t.user_id,{},{revalidateOnFocus:!1}),D=E.data,H=E.mutate,B=null===D||void 0===D?void 0:D.user,M=(0,Z.iV)(),I=(0,g.Z)(M);(0,u.useEffect)((function(){var n=M.add_new_user,e=M.user_id;if(!(0,_.Xy)(M,I)){var r=C(C({},I),M);e?r.user_id=e:delete r.user_id,n?r.add_new_user=n:delete r.add_new_user,o(r)}}),[M,I]);var A=null===t||void 0===t?void 0:t.add_new_user,R=(0,u.useMemo)((function(){return A?(0,k.jsx)(p.Z,{p:y.cd,children:(0,k.jsx)(b.Z,{newUser:!0,onSaveSuccess:function(){(0,P.u7)({add_new_user:null,user_id:null}),d()},title:"Add new user",user:{}})}):B?(0,k.jsx)(p.Z,{p:y.cd,children:(0,k.jsx)(b.Z,{hideFields:[j.s7],onDeleteSuccess:function(){(0,P.u7)({add_new_user:null,user_id:null}),d()},onSaveSuccess:function(){H(),d()},showDelete:!0,title:"Edit user",user:B})}):null}),[H,d,A,B]);return(0,k.jsxs)(f.Z,{after:R,afterHidden:!B&&!A,uuidItemSelected:O.eC,uuidWorkspaceSelected:O.WH,children:[(0,k.jsx)(p.Z,{p:y.cd,children:(0,k.jsx)(a.Z,{beforeIcon:(0,k.jsx)(w.mm,{}),onClick:function(){return(0,P.u7)({add_new_user:1,user_id:null})},primary:!0,children:"Add new user"})}),(0,k.jsx)(p.Z,{p:y.cd,children:(0,k.jsx)(s.Z,{children:"Users"})}),(0,k.jsx)(v.Z,{columnFlex:[1,1,1],columns:[{uuid:"Username"},{uuid:"Email"},{uuid:"Role"}],isSelectedRow:function(n){var e;return(null===(e=S[n])||void 0===e?void 0:e.id)===(null===B||void 0===B?void 0:B.id)},onClickRow:function(r){var t,o=null===(t=S[r])||void 0===t?void 0:t.id;o===e?n.push("/settings/account/profile"):(0,P.u7)({add_new_user:null,user_id:o})},rows:S.map((function(n){var e=n.email,r=n.roles_display,t=n.username;return[(0,k.jsx)(h.ZP,{bold:!0,children:t},"username"),(0,k.jsx)(h.ZP,{default:!0,children:e},"email"),(0,k.jsx)(h.ZP,{default:!0,children:r},"roles")]})),uuid:"pipeline-runs"})]})}E.getInitialProps=(0,t.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{});case 1:case"end":return n.stop()}}),n)}))),e.default=(0,d.Z)(E)},24224:function(n,e,r){"use strict";r.d(e,{HK:function(){return a},Hk:function(){return u},IN:function(){return O},Od:function(){return p},Qj:function(){return m},Sm:function(){return y},YC:function(){return s},fS:function(){return h},m5:function(){return w},mp:function(){return j},mr:function(){return d},oM:function(){return v},ry:function(){return f},sE:function(){return l},tS:function(){return b},w6:function(){return g}});var t=r(82394),o=r(7715);function i(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function c(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){(0,t.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function u(n,e,r){var t=r.slice();return t.splice(e,0,n),t}function l(n,e){return null===n||void 0===n?void 0:n.find(e)}function a(n,e){return null===n||void 0===n?void 0:n.reduce((function(n,r){return c(c({},n),{},(0,t.Z)({},e(r),r))}),{})}function s(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=r.ascending,i=void 0===t||t,c=r.absoluteValue,u=void 0!==c&&c,l="string"===typeof e||"number"===typeof e?function(n){return u?Math.abs((0,o.t2)(n,e)):(0,o.t2)(n,e)}:function(n){return u?Math.abs(e(n)):e(n)};return n.sort((function(n,e){var r=0;return l(n)>l(e)?r=i?1:-1:l(n)<l(e)&&(r=i?-1:1),r}))}function d(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.ascending,t=void 0===r||r;return n.sort((function(n,e){var r=0;return n[0]>e[0]?r=t?1:-1:n[0]<e[0]&&(r=t?-1:1),r}))}function f(n,e){for(var r=-1,t=n.length;1+r<t;){var o=r+(t-r>>1);e(n[o])?r=o:t=o}return t}function p(n,e){var r=n.findIndex(e);return v(n,r)}function v(n,e){return n.slice(0,e).concat(n.slice(e+1,n.length))}function h(n,e){return n.map((function(n){return String(n)})).join()===e.map((function(n){return String(n)})).join()}function b(n,e){return n>e}function m(n,e){return n<e}function g(n){return Array(n).fill(0)}function w(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Array.from(Array(n).keys());return 0!==e&&(r=r.map((function(n){return n+e}))),r}function y(n){return n.reduce((function(n,e){return n+e}),0)}function O(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.reduce((function(n,e){return n+e}),0)/n.length;return Math.sqrt(n.reduce((function(n,e){return n.concat(Math.pow(e-r,2))}),[]).reduce((function(n,e){return n+e}),0)/(n.length-(e?0:1)))}function j(n){return n[Math.floor(Math.random()*n.length)]}},33766:function(n,e,r){"use strict";r.d(e,{g_:function(){return f},u7:function(){return d}});var t=r(75582),o=r(82394),i=r(34376),c=r.n(i),u=r(59e3),l=r(24224);function a(n,e){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.push.apply(r,t)}return r}function s(n){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){(0,o.Z)(n,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}))}return n}function d(n){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.replaceParams,i=r.pushHistory,l=o?{}:(0,u.iV)();e=window.location.pathname;var a=i?c().push:c().replace,d=s(s({},l),n);Object.entries(n).forEach((function(n){var e=(0,t.Z)(n,2),r=e[0],o=e[1];"undefined"!==typeof o&&null!==o||delete d[r]}));var f=(0,u.uM)(d);f.length>=1&&(f="?".concat(f));var p="".concat(e.split("?")[0]).concat(f);return a(c().router.pathname,p,{shallow:!0})}function f(n,e,r){var o=r.addingMultipleValues,i=r.isList,c=r.itemsPerPage,u=r.resetLimitParams,a=s({},n);o?Object.entries(e).forEach((function(n){var e=(0,t.Z)(n,2),r=e[0],o=e[1];if(Array.isArray(o)){var i="".concat(r,"[]");a[i]=o.map(String)}})):i?Object.entries(e).forEach((function(n){var e=(0,t.Z)(n,2),r=e[0],o=e[1],i=String(o),c="".concat(r,"[]"),u=a[c];u&&Array.isArray(u)?(u=u.map(String)).includes(i)?a[c]=(0,l.Od)(u,(function(n){return n===i})):a[c]=u.concat(i):a[c]=[i]})):a=s(s({},a),e),u&&(a._limit=c||20,a._offset=0),d(a)}},48673:function(n,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/workspace/users",function(){return r(60921)}])}},function(n){n.O(0,[3850,2344,9386,5477,9774,2888,179],(function(){return e=48673,n(n.s=e);var e}));var e=n.O();_N_E=e}]);